/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var pc=Object.create;var Br=Object.defineProperty;var dc=Object.getOwnPropertyDescriptor;var mc=Object.getOwnPropertyNames;var hc=Object.getPrototypeOf,_c=Object.prototype.hasOwnProperty;var _s=e=>{throw TypeError(e)};var gc=(e,t,r)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),bc=(e,t)=>{for(var r in t)Br(e,r,{get:t[r],enumerable:!0})},gs=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mc(t))!_c.call(e,o)&&o!==r&&Br(e,o,{get:()=>t[o],enumerable:!(n=dc(t,o))||n.enumerable});return e};var vs=(e,t,r)=>(r=e!=null?pc(hc(e)):{},gs(t||!e||!e.__esModule?Br(r,"default",{value:e,enumerable:!0}):r,e)),Ac=e=>gs(Br({},"__esModule",{value:!0}),e);var Le=(e,t,r)=>gc(e,typeof t!="symbol"?t+"":t,r),bs=(e,t,r)=>t.has(e)||_s("Cannot "+r);var he=(e,t,r)=>(bs(e,t,"read from private field"),r?r.call(e):t.get(e)),$n=(e,t,r)=>t.has(e)?_s("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Dn=(e,t,r,n)=>(bs(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var zo=vc(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var z=require("obsidian"),Yo="YYYY-MM-DD",Wo="gggg-[W]ww",As="YYYY-MM",ws="YYYY-[Q]Q",ys="YYYY";function Or(e){let t=window.app.plugins.getPlugin("periodic-notes");return t&&t.settings?.[e]?.enabled}function Fr(){try{let{internalPlugins:e,plugins:t}=window.app;if(Or("daily")){let{format:i,folder:s,template:a}=t.getPlugin("periodic-notes")?.settings?.daily||{};return{format:i||Yo,folder:s?.trim()||"",template:a?.trim()||""}}let{folder:r,format:n,template:o}=e.getPluginById("daily-notes")?.instance?.options||{};return{format:n||Yo,folder:r?.trim()||"",template:o?.trim()||""}}catch(e){console.info("No custom daily note settings found!",e)}}function Yr(){try{let e=window.app.plugins,t=e.getPlugin("calendar")?.options,r=e.getPlugin("periodic-notes")?.settings?.weekly;if(Or("weekly"))return{format:r.format||Wo,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=t||{};return{format:n.weeklyNoteFormat||Wo,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(e){console.info("No custom weekly note settings found!",e)}}function Wr(){let e=window.app.plugins;try{let t=Or("monthly")&&e.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:t.format||As,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom monthly note settings found!",t)}}function Hr(){let e=window.app.plugins;try{let t=Or("quarterly")&&e.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:t.format||ws,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom quarterly note settings found!",t)}}function Vr(){let e=window.app.plugins;try{let t=Or("yearly")&&e.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:t.format||ys,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom yearly note settings found!",t)}}function xs(...e){let t=[];for(let n=0,o=e.length;n<o;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,o=t.length;n<o;n++){let i=t[n];!i||i==="."||r.push(i)}return t[0]===""&&r.unshift(""),r.join("/")}function wc(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function yc(e){let t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){let r=xs(...t);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function Gr(e,t){t.endsWith(".md")||(t+=".md");let r=z.normalizePath(xs(e,t));return await yc(r),r}async function sr(e){let{metadataCache:t,vault:r}=window.app,n=z.normalizePath(e);if(n==="/")return Promise.resolve(["",null]);try{let o=t.getFirstLinkpathDest(n,""),i=await r.cachedRead(o),s=window.app.foldManager.load(o);return[i,s]}catch(o){return console.error(`Failed to read the daily note template '${n}'`,o),new z.Notice("Failed to read the daily note template"),["",null]}}function Ue(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}function Es(e){return e.replace(/\[[^\]]*\]/g,"")}function xc(e,t){if(t==="week"){let r=Es(e);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function ar(e,t){return Cs(e.basename,t)}function Ec(e,t){return Cs(wc(e),t)}function Cs(e,t){let n={day:Fr,week:Yr,month:Wr,quarter:Hr,year:Vr}[t]().format.split("/").pop(),o=window.moment(e,n,!0);if(!o.isValid())return null;if(xc(n,t)&&t==="week"){let i=Es(n);if(/w{1,2}/i.test(i))return window.moment(e,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}var Ho=class extends Error{};async function ks(e){let t=window.app,{vault:r}=t,n=window.moment,{template:o,format:i,folder:s}=Fr(),[a,l]=await sr(o),f=e.format(i),p=await Gr(s,f);try{let u=await r.create(p,a.replace(/{{\s*date\s*}}/gi,f).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,f).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(c,d,h,v,g,b)=>{let M=n(),L=e.clone().set({hour:M.get("hour"),minute:M.get("minute"),second:M.get("second")});return h&&L.add(parseInt(v,10),g),b?L.format(b.substring(1).trim()):L.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(u,l),u}catch(u){console.error(`Failed to create file: '${p}'`,u),new z.Notice("Unable to create new file.")}}function Cc(e,t){return t[Ue(e,"day")]??null}function kc(){let{vault:e}=window.app,{folder:t}=Fr(),r=e.getAbstractFileByPath(z.normalizePath(t));if(!r)throw new Ho("Failed to find daily notes folder");let n={};return z.Vault.recurseChildren(r,o=>{if(o instanceof z.TFile){let i=ar(o,"day");if(i){let s=Ue(i,"day");n[s]=o}}}),n}var Vo=class extends Error{};function Tc(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)r.push(r.shift()),t--;return r}function Ic(e){return Tc().indexOf(e.toLowerCase())}async function Ts(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Yr(),[i,s]=await sr(r),a=e.format(n),l=await Gr(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,h,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return c&&b.add(parseInt(d,10),h),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*title\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(p,u,c)=>{let d=Ic(u);return e.weekday(d).format(c.trim())}));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new z.Notice("Unable to create new file.")}}function Nc(e,t){return t[Ue(e,"week")]??null}function Pc(){let e={};if(!Ns())return e;let{vault:t}=window.app,{folder:r}=Yr(),n=t.getAbstractFileByPath(z.normalizePath(r));if(!n)throw new Vo("Failed to find weekly notes folder");return z.Vault.recurseChildren(n,o=>{if(o instanceof z.TFile){let i=ar(o,"week");if(i){let s=Ue(i,"week");e[s]=o}}}),e}var Go=class extends Error{};async function Is(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Wr(),[i,s]=await sr(r),a=e.format(n),l=await Gr(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,h,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return c&&b.add(parseInt(d,10),h),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new z.Notice("Unable to create new file.")}}function $c(e,t){return t[Ue(e,"month")]??null}function Dc(){let e={};if(!Ps())return e;let{vault:t}=window.app,{folder:r}=Wr(),n=t.getAbstractFileByPath(z.normalizePath(r));if(!n)throw new Go("Failed to find monthly notes folder");return z.Vault.recurseChildren(n,o=>{if(o instanceof z.TFile){let i=ar(o,"month");if(i){let s=Ue(i,"month");e[s]=o}}}),e}var jo=class extends Error{};async function Sc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Hr(),[i,s]=await sr(r),a=e.format(n),l=await Gr(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,h,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return c&&b.add(parseInt(d,10),h),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new z.Notice("Unable to create new file.")}}function Rc(e,t){return t[Ue(e,"quarter")]??null}function Lc(){let e={};if(!$s())return e;let{vault:t}=window.app,{folder:r}=Hr(),n=t.getAbstractFileByPath(z.normalizePath(r));if(!n)throw new jo("Failed to find quarterly notes folder");return z.Vault.recurseChildren(n,o=>{if(o instanceof z.TFile){let i=ar(o,"quarter");if(i){let s=Ue(i,"quarter");e[s]=o}}}),e}var Uo=class extends Error{};async function Mc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Vr(),[i,s]=await sr(r),a=e.format(n),l=await Gr(o,a);try{let f=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,u,c,d,h,v)=>{let g=window.moment(),b=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return c&&b.add(parseInt(d,10),h),v?b.format(v.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(f,s),f}catch(f){console.error(`Failed to create file: '${l}'`,f),new z.Notice("Unable to create new file.")}}function Bc(e,t){return t[Ue(e,"year")]??null}function Oc(){let e={};if(!Ds())return e;let{vault:t}=window.app,{folder:r}=Vr(),n=t.getAbstractFileByPath(z.normalizePath(r));if(!n)throw new Uo("Failed to find yearly notes folder");return z.Vault.recurseChildren(n,o=>{if(o instanceof z.TFile){let i=ar(o,"year");if(i){let s=Ue(i,"year");e[s]=o}}}),e}function Fc(){let{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;let r=e.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function Ns(){let{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;let t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.weekly?.enabled}function Ps(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.monthly?.enabled}function $s(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.quarterly?.enabled}function Ds(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.yearly?.enabled}function Yc(e){let t={day:Fr,week:Yr,month:Wr,quarter:Hr,year:Vr}[e];return t()}function Wc(e,t){return{day:ks,month:Is,week:Ts}[e](t)}H.DEFAULT_DAILY_NOTE_FORMAT=Yo;H.DEFAULT_MONTHLY_NOTE_FORMAT=As;H.DEFAULT_QUARTERLY_NOTE_FORMAT=ws;H.DEFAULT_WEEKLY_NOTE_FORMAT=Wo;H.DEFAULT_YEARLY_NOTE_FORMAT=ys;H.appHasDailyNotesPluginLoaded=Fc;H.appHasMonthlyNotesPluginLoaded=Ps;H.appHasQuarterlyNotesPluginLoaded=$s;H.appHasWeeklyNotesPluginLoaded=Ns;H.appHasYearlyNotesPluginLoaded=Ds;H.createDailyNote=ks;H.createMonthlyNote=Is;H.createPeriodicNote=Wc;H.createQuarterlyNote=Sc;H.createWeeklyNote=Ts;H.createYearlyNote=Mc;H.getAllDailyNotes=kc;H.getAllMonthlyNotes=Dc;H.getAllQuarterlyNotes=Lc;H.getAllWeeklyNotes=Pc;H.getAllYearlyNotes=Oc;H.getDailyNote=Cc;H.getDailyNoteSettings=Fr;H.getDateFromFile=ar;H.getDateFromPath=Ec;H.getDateUID=Ue;H.getMonthlyNote=$c;H.getMonthlyNoteSettings=Wr;H.getPeriodicNoteSettings=Yc;H.getQuarterlyNote=Rc;H.getQuarterlyNoteSettings=Hr;H.getTemplateInfo=sr;H.getWeeklyNote=Nc;H.getWeeklyNoteSettings=Yr;H.getYearlyNote=Bc;H.getYearlyNoteSettings=Vr});var ad={};bc(ad,{default:()=>Bo});module.exports=Ac(ad);var Oo=require("obsidian"),ac=vs(zo());var Ss="YYYYMMDD",Rs=/(?<target>{{date:?(?<date>[^}]*)}})/g,Ls="Day Planner-{{date}}.md",Sn=`## Day Planner
- [ ] `,lr="timeline";var q={lineColor:"#CAD5CA",timelineColorBegin:"#008183",timelineColorEnd:"#4d194d",timelineHoverColorBegin:"#83003f",timelineHoverColorEnd:"#5d0e2e"},Ms=["any-key","audio-file","blocks","broken-link","bullet-list","calendar-with-checkmark","checkmark","create-new","cross","cross-in-box","crossed-star","dice","document","documents","dot-network","enter","expand-vertically","filled-pin","folder","gear","go-to-file","hashtag","help","horizontal-split","image-file","info","install","languages","left-arrow","left-arrow-with-tail","lines-of-text","link","logo-crystal","magnifying-glass","microphone","microphone-filled","open-vault","pane-layout","paper-plane","pdf-file","pencil","pin","popup-open","presentation","reset","right-arrow","right-arrow-with-tail","right-triangle","search","sheets-in-box","star","star-list","switch","three-horizontal-bars","trash","two-columns","up-and-down-arrows","uppercase-lowercase-a","vault","vertical-split","vertical-three-dots"];var Ln=require("obsidian"),Mn=vs(zo());var V=class e{static getInstance(){return e.instance||(e.instance=new e),e.instance}updateSettings(t){this.settings=t}logDebug(t,...r){(!this.settings||this.settings.debug)&&console.debug("(DP)",t,...r)}logInfo(t,...r){console.info("(DP)",t,...r)}logError(t,...r){console.error("(DP)",t,...r)}};var Ht=class{replace(t){let r=t,n=[...r.matchAll(Rs)];if(n.length===0)return t;let o=new Date,i=n.map(a=>{let l=a.groups.date===""?Ss:a.groups.date;return[a.groups.target,this.getMoment(o,l)]}),s=r;for(let a of i)s=s.replace(a[0],a[1]);return s}getMoment(t,r){return window.moment(t).format(r)}};var Rn=class{constructor(){this.customFolder="Day Planners";this.debug=!1;this.mode="File";this.mermaid=!1;this.notesToDates=[];this.completePastItems=!0;this.circularProgress=!1;this.nowAndNextInStatusBar=!1;this.showTaskNotification=!1;this.timelineZoomLevel=4;this.timelineIcon="calendar-with-checkmark";this.plannerLabel="Day Planner";this.breakLabel="BREAK";this.endLabel="END";this.markCurrent=!1;this.correctLabels=!0;this.writer=void 0;this.preserveValues="-";this.hideTimelineValues=""}},cr=class{constructor(t,r){this.notePath=t,this.date=r}},Tt=class{exists(t){return t&&this.active(t)!==void 0}active(t){let r=new Date().toDateString();return t?.filter(n=>n.date===r)[0]}},dt=(n=>(n.File="File",n.Command="Command",n.Daily="Daily",n))(dt||{});var jr=class{constructor(t,r){this.vault=t,this.settings=r,this.momentDateRegex=new Ht,this.noteForDateQuery=new Tt}async hasTodayNote(){if(this.settings.mode==="Daily"&&(0,Mn.appHasDailyNotesPluginLoaded)()){let t=new Date,{folder:r,format:n}=(0,Mn.getDailyNoteSettings)(),o=`${this.momentDateRegex.getMoment(t,n)}.md`,i=(0,Ln.normalizePath)(`${r}/${o}`);if(await this.vault.adapter.exists(i)){let s=new cr(i,t.toDateString());return this.settings.notesToDates=[s],!0}return!1}return this.settings.mode==="File"||this.noteForDateQuery.exists(this.settings.notesToDates)}todayPlannerFilePath(){if(this.settings.mode==="Command"||this.settings.mode==="Daily")return this.noteForDateQuery.active(this.settings.notesToDates)?.notePath;let t=this.todayPlannerFileName();return`${this.settings.customFolder??"Day Planners"}/${t}`}todayPlannerFileName(){return this.momentDateRegex.replace(Ls)}async prepareFile(){try{this.settings.mode==="File"&&(await this.createFolderIfNotExists(this.settings.customFolder),await this.createFileIfNotExists(this.todayPlannerFilePath()))}catch(t){V.getInstance().logError("error updating file settings",t)}}async createFolderIfNotExists(t){try{let r=(0,Ln.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.createFolder(r)}catch(r){V.getInstance().logError("error creating folder",t,r)}}async createFileIfNotExists(t){try{let r=(0,Ln.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.create(r,Sn)}catch(r){V.getInstance().logError("file does not exist",t,r)}}async processFile(t,r){try{return await this.vault.adapter.process(t,r)}catch(n){V.getInstance().logError("error processing file",t,n)}}};var ot=class{constructor(t,r){this.iAmWriter=r,this.empty=t.length<1,this.invalid=!1,this.items=t,this.past=[]}addItem(t){this.items.push(t),this.empty=!1}calculate(t){try{if(this.items.sort((r,n)=>r.time.getTime()-n.time.getTime()),this.items.length===0){this.empty=!0;return}this.items.forEach((r,n)=>{let o=this.items[n+1];if(r.time<t&&(r.isEnd||o&&t<o.time)?(this.current=r,r.isEnd&&(r.isPast=!0,this.past.push(r)),this.next=r.isEnd?null:o):r.time<t&&(r.isPast=!0,this.past.push(r)),o){let i=window.moment,s=i.duration(i(o.time).diff(i(r.time))).asMinutes();r.durationMins=s}})}catch(r){V.getInstance().logError("error updating item status",r)}}isCurrent(t){return t===this.current}activeItems(){return this.items.filter(t=>!t.hidden)}},Zo=class{constructor(t,r,n,o,i,s,a,l,f,p){this.line=t,this.charIndex=r,this.status=n,this.isBreak=o,this.isEnd=i,this.time=s,this.rawTime=a,this.text=l,this.raw=f,this.hidden=p}},Bn=class{constructor(t){this.settings=t}getPlanItem(t,r,n,o,i,s,a,l,f){let p=this.getDisplayText(o,i,l),u=n&&this.settings.hideTimelineValues.includes(n);return new Zo(t,r,n,o,i,s,a,p,f,u)}getDisplayText(t,r,n){return t&&this.settings.correctLabels?this.settings.breakLabel:r&&this.settings.correctLabels?this.settings.endLabel:n}};var Ur=class{constructor(t){this.updateSettings(t),this.PLAN_PARSER_REGEX=/^(-?[\s]*\[?(?<completion>.)\]\s*?(?<hours>\d{1,2}):(?<minutes>\d{2})\s(?<text>.*?))$/i}updateSettings(t){this.settings=t,this.planItemFactory=new Bn(t),this.PLAN_START=`# ${this.settings.plannerLabel}`;let r=this.sanitize(t.breakLabel),n=this.sanitize(t.endLabel);this.PLAN_BREAK=new RegExp(`^${r}(?=\\b|$)`,"i"),this.PLAN_END=new RegExp(`^${n}(?=\\b|$)`,"i")}sanitize(t){return t.replace(/\./g,"\\.").replace(/\*/g,"\\*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]")}parseContent(t,r,n){let o=!1,i=t.split(`
`);if(i.forEach((s,a)=>{if(s.length!==0)if(o){let l=this.parseLine(a,s);l&&(r.addItem(l),o=!l.isEnd)}else s.trim().endsWith(this.PLAN_START)&&(o=!0)}),r.calculate(n),!r.empty&&r.iAmWriter)for(let s of r.items){let a=this.updateItemCompletion(s,r);i[s.line]=a}return i.join(`
`)}parseLine(t,r){try{let n=this.PLAN_PARSER_REGEX.exec(r);if(n){let o=n,i=o.groups.text,s=this.matches(i,this.PLAN_BREAK),a=this.matches(i,this.PLAN_END),l=new Date;return l.setHours(Number.parseInt(o.groups.hours)),l.setMinutes(Number.parseInt(o.groups.minutes)),l.setSeconds(0),this.planItemFactory.getPlanItem(t,o.index,o.groups.completion,s,a,l,`${o.groups.hours.padStart(2,"0")}:${o.groups.minutes}`,i,o[0])}}catch(n){V.getInstance().logError("error parsing line",r,n)}}updateItemCompletion(t,r){let n=t.status;return this.settings.completePastItems&&(this.settings.preserveValues.includes(n)||(t.isPast?n="x":this.settings.markCurrent&&r.isCurrent(t)?n="/":n=" ")),`- [${n}] ${t.rawTime} ${t.text}`}matches(t,r){return r.test(t.trim())}};var qo=require("obsidian");var fr=class{constructor(t,r,n,o,i){this.workspace=t,this.settings=r,this.file=n,this.parser=o,this.progress=i,this.noteForDateQuery=new Tt}async insertPlanner(){let t=this.file.todayPlannerFilePath(),n=this.workspace.getActiveViewOfType(qo.MarkdownView).editor.getCursor().line;await this.file.processFile(t,o=>{let i=o.split(`
`);return[...i.slice(0,n),...Sn.split(`
`),...i.slice(n)].join(`
`)})}async processDayPlanner(t){try{await this.file.prepareFile();let r=this.file.todayPlannerFilePath(),n=new ot([],t),o=new Date;return await this.file.processFile(r,i=>this.parser.parseContent(i,n,o)),n}catch(r){V.getInstance().logError("error processing file",t,this.file,r)}}checkIsDayPlannerEditing(){let t=this.workspace.getActiveViewOfType(qo.MarkdownView);if(t==null)return;let r=t.getState(),n=this.file.todayPlannerFilePath();n&&r.file===n&&(this.dayPlannerLastEdit=new Date().getTime())}};var ur=window.moment,zr=class{getProgress(t,r){try{let o=ur(new Date),i=ur(t.time),s=ur(r.time),a=ur.duration(s.diff(i)),l=ur.duration(o.diff(i)),f=ur.duration(s.diff(o)),p=l.asMinutes()/a.asMinutes()*100,u=f.asMinutes().toFixed(0);return{percentageComplete:p,minsUntilNext:u}}catch(n){V.getInstance().logError("error updating progress",t,r,n)}}progressMarkdown(t,r){try{let{percentageComplete:n}=this.getProgress(t,r),o=Math.floor(20*(n/100));return new Array(o).join("->")+new Array(20-o).join("_ ")}catch(n){V.getInstance().logError("error updating markdown",t,r,n)}}};var te=require("obsidian");var On=class extends te.PluginSettingTab{constructor(r,n){super(r,n);this.momentDateRegex=new Ht;this.plugin=n}async save(){await this.plugin.saveData(this.plugin.settings),V.getInstance().logDebug("Settings saved")}hide(){this.save()}display(){let{containerEl:r}=this;r.empty(),new te.Setting(r).setName("Day Planner mode").setDesc(this.modeDescriptionContent()).addDropdown(o=>o.addOption(dt.File,"File mode").addOption(dt.Command,"Command mode").addOption(dt.Daily,"Daily mode").setValue(dt[this.plugin.settings.mode]||"File".toString()).onChange(i=>{this.plugin.settings.mode=dt[i]})),new te.Setting(r).setName("Complete past planner items").setDesc("The plugin will automatically mark checkboxes for tasks and breaks in the past as complete (x)").addToggle(o=>o.setValue(this.plugin.settings.completePastItems).onChange(i=>{this.plugin.settings.completePastItems=i})),new te.Setting(r).setName("Mark in progress planner item").setDesc("The plugin will automatically mark the textbox for the current item as in progress (/)").addToggle(o=>o.setValue(this.plugin.settings.markCurrent).onChange(i=>{this.plugin.settings.markCurrent=i})),new te.Setting(r).setName("Status bar - circular progress").setDesc("Display a circular progress bar in the status bar").addToggle(o=>o.setValue(this.plugin.settings.circularProgress).onChange(i=>{this.plugin.settings.circularProgress=i})),new te.Setting(r).setName("Status bar - now and next").setDesc("Display now and next tasks in the status bar").addToggle(o=>o.setValue(this.plugin.settings.nowAndNextInStatusBar).onChange(i=>{this.plugin.settings.nowAndNextInStatusBar=i})),new te.Setting(r).setName("Task notification").setDesc("Display a notification when a new task is started").addToggle(o=>o.setValue(this.plugin.settings.showTaskNotification).onChange(i=>{this.plugin.settings.showTaskNotification=i})),new te.Setting(r).setName("Timeline zoom level").setDesc("The zoom level to display the timeline. The higher the number, the more vertical space each task will take up.").addSlider(o=>o.setLimits(1,5,1).setValue(this.plugin.settings.timelineZoomLevel??4).setDynamicTooltip().onChange(i=>{this.plugin.settings.timelineZoomLevel=i})),new te.Setting(r).setName("Timeline icon").setDesc("The icon of the timeline pane. Reopen timeline pane or restart obsidian to see the change.").addDropdown(o=>{for(let i of Ms)o.addOption(i,i);return o.setValue(this.plugin.settings.timelineIcon??"calendar-with-checkmark").onChange(i=>{this.plugin.settings.timelineIcon=i})});let n={};new te.Setting(r).setName("Timeline colors").setDesc("Gradient colors for the timeline (line, begin, end, hover begin, hover end, reset).").addColorPicker(o=>{o.setValue(this.plugin.settings.lineColor??q.lineColor).onChange(i=>{this.plugin.settings.lineColor=i}),n.lineColor=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorBegin??q.timelineColorBegin).onChange(i=>{this.plugin.settings.timelineColorBegin=i}),n.timelineColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorEnd??q.timelineColorEnd).onChange(i=>{this.plugin.settings.timelineColorEnd=i}),n.timelineColorEnd=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorBegin??q.timelineHoverColorBegin).onChange(i=>{this.plugin.settings.timelineHoverColorBegin=i}),n.timelineHoverColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorEnd??q.timelineHoverColorEnd).onChange(i=>{this.plugin.settings.timelineHoverColorEnd=i}),n.timelineHoverColorEnd=o}).addExtraButton(o=>{o.setTooltip("Reset to default colors").setIcon("reset").onClick(()=>{this.plugin.settings.lineColor=q.lineColor,n.lineColor.setValue(q.lineColor),this.plugin.settings.timelineColorBegin=q.timelineColorBegin,n.timelineColorBegin.setValue(q.timelineColorBegin),this.plugin.settings.timelineColorEnd=q.timelineColorEnd,n.timelineColorEnd.setValue(q.timelineColorEnd),this.plugin.settings.timelineHoverColorBegin=q.timelineHoverColorBegin,n.timelineHoverColorBegin.setValue(q.timelineHoverColorBegin),this.plugin.settings.timelineHoverColorEnd=q.timelineHoverColorEnd,n.timelineHoverColorEnd.setValue(q.timelineHoverColorEnd)})}),new te.Setting(r).setName("Day Planner heading").setDesc("Use this heading text to mark the beginning of the Day Planner.").addText(o=>o.setValue(this.plugin.settings.plannerLabel??"Day Planner").onChange(i=>{let s=i.trim();s.length>0&&(this.plugin.settings.plannerLabel=s)})),new te.Setting(r).setName("BREAK task label").setDesc("Use this label to mark break between tasks.").addText(o=>o.setValue(this.plugin.settings.breakLabel??"BREAK").onChange(i=>{this.plugin.settings.breakLabel=i})),new te.Setting(r).setName("END task label").setDesc("Use this label to mark the end of all tasks.").addText(o=>o.setValue(this.plugin.settings.endLabel??"END").onChange(i=>{this.plugin.settings.endLabel=i})),new te.Setting(r).setName("Consistent BREAK and END labels").setDesc("Replace BREAK and END task text in your planner with the configured label text (consistency)").addToggle(o=>o.setValue(this.plugin.settings.correctLabels).onChange(i=>{this.plugin.settings.correctLabels=i})),new te.Setting(r).setName("Preserve task values").setDesc("Preserve these values in the schedule, for example '-' for canceled, or '>' for rescheduled.").addText(o=>o.setValue(this.plugin.settings.preserveValues||"-").onChange(i=>{let s=i;s.length>0&&(s=[...new Set(s)].join("").replace("x","")),this.plugin.settings.preserveValues=s})),new te.Setting(r).setName("Hide tasks from the timeline").setDesc("Hide tasks with these values from the timeline view, for example '-' for canceled, or '>' for rescheduled.").addText(o=>o.setValue(this.plugin.settings.hideTimelineValues||"-").onChange(i=>{let s=i;s.length>0&&(s=[...new Set(s)].join("").replace("x","")),this.plugin.settings.hideTimelineValues=s})),new te.Setting(r).setName("Debug").setDesc("Enable debug messages").addToggle(o=>o.setValue(this.plugin.settings.debug).onChange(i=>{this.plugin.settings.debug=i}))}modeDescriptionContent(){let r=document.createDocumentFragment();return r.appendText("Choose between 3 modes to use the Day Planner plugin:"),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("File mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically generates day planner notes for each day within a Day Planners folder."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Command mode"),r.appendChild(document.createElement("br")),r.appendText("Command used to insert a Day Planner for today within the current note."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Daily mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically links to the current daily note. Daily notes plugin must be enabled."),r.appendChild(document.createElement("br")),this.addDocsLink(r),r}addDocsLink(r){let n=document.createElement("a");n.href="https://github.com/ebullient/obsidian-day-planner-og/blob/main/README.md",n.text="plugin README",n.target="_blank",r.appendChild(n),r.appendChild(document.createElement("br"))}};var Zr=class{constructor(t,r,n,o,i,s){this.settings=t,this.statusBar=r,this.workspace=n,this.progress=o,this.plannerMD=i,this.file=s}initStatusBar(){if(this.statusBarAdded)return;let t=this.statusBar.createEl("div",{cls:"day-planner",title:"View the Day Planner",prepend:!0});this.setupCard(t),this.statusBarText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupCircularProgressBar(t),this.setupHorizontalProgressBar(t),this.nextText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupStatusBarEvents(t),this.statusBarAdded=!0}setupStatusBarEvents(t){t.onClickEvent(async()=>{try{let r=this.file.todayPlannerFilePath();this.workspace.openLinkText(r,"",!1)}catch(r){V.getInstance().logError("error opening file from status bar",this.file,r)}}),t.on("mouseenter",".day-planner",()=>{this.show(this.card)}),t.on("mouseleave",".day-planner",()=>{this.hide(this.card)})}async refreshStatusBar(t){return!t.empty&&!t.invalid?(this.updateProgress(t.current,t.next),this.show(this.statusBar)):this.hide(this.statusBar),t}hide(t){t&&(t.style.display="none")}show(t){t&&(t.style.display="block")}hideProgress(){this.hide(this.statusBarProgress),this.hide(this.circle),this.hide(this.nextText)}updateProgress(t,r){if(!t||!r||t.isEnd){this.hideProgress(),this.statusBarText.innerText=this.settings.endLabel;return}let{percentageComplete:n,minsUntilNext:o}=this.progress.getProgress(t,r);this.settings.circularProgress?(this.hide(this.statusBarProgress),this.progressCircle(n,t)):(this.hide(this.circle),this.progressBar(n,t)),this.statusText(o,t,r,n)}progressBar(t,r){r.isBreak?this.statusBarCurrentProgress.addClass("green"):this.statusBarCurrentProgress.removeClass("green"),this.statusBarCurrentProgress.style.width=`${t}%`,this.show(this.statusBarProgress)}progressCircle(t,r){r.isBreak?this.circle.addClass("green"):this.circle.removeClass("green"),this.circle.setAttr("data-value",t.toFixed(0)),this.show(this.circle)}statusText(t,r,n,o){let i=t==="0"?"1":t,s=`${i} min${i==="1"?"":"s"}`;if(this.settings.nowAndNextInStatusBar)this.statusBarText.innerHTML=`<strong>Now</strong> ${r.rawTime} ${this.ellipsis(r.text,10)}`,this.nextText.innerHTML=`<strong>Next</strong> ${n.rawTime} ${this.ellipsis(n.text,10)}`,this.show(this.nextText);else{this.hide(this.nextText);let u=r.isBreak?`${this.settings.breakLabel} for ${s}`:`${s} left`;this.statusBarText.innerText=u}let a=`Current Task (${o.toFixed(0)}% complete)`,l=`${r.rawTime} ${r.text}`,f=`Next Task (in ${s})`,p=`${n.rawTime} ${n.text}`;this.cardCurrent.innerHTML=`<strong>${a}</strong><br> ${l}`,this.cardNext.innerHTML=`<strong>${f}</strong><br> ${p}`,this.taskNotification(r,l,f,p)}taskNotification(t,r,n,o){this.settings.showTaskNotification&&this.currentTime!==void 0&&this.currentTime!==t.time.toUTCString()&&new Notification(`Task started, ${r}`,{body:`${n}: ${o}`,requireInteraction:!0}),this.currentTime=t.time.toUTCString()}ellipsis(t,r){return t.length<=r?t:`${t.substring(0,r)}...`}setupHorizontalProgressBar(t){this.statusBarProgress=t.createEl("div",{cls:["status-bar-item-segment","day-planner-progress-bar"]}),this.statusBarProgress.style.display="none",this.statusBarCurrentProgress=this.statusBarProgress.createEl("div",{cls:"day-planner-progress-value"})}setupCircularProgressBar(t){this.circle=t.createEl("div",{cls:["status-bar-item-segment","progress-pie day-planner"]})}setupCard(t){this.card=t.createEl("div",{cls:"day-planner-status-card"}),this.cardCurrent=this.card.createEl("span"),this.card.createEl("br"),this.card.createEl("br"),this.cardNext=this.card.createEl("span"),this.card.createEl("div",{cls:"arrow-down"})}};var{min:Hc,max:Vc}=Math,Me=(e,t=0,r=1)=>Hc(Vc(t,e),r);var Vt=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=Me(e[t],0,255)):t===3&&(e[t]=Me(e[t],0,1));return e};var Bs={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Bs[`[object ${e}]`]=e.toLowerCase();function x(e){return Bs[Object.prototype.toString.call(e)]||"object"}var A=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):x(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0);var Ie=e=>{if(e.length<2)return null;let t=e.length-1;return x(e[t])=="string"?e[t].toLowerCase():null};var{PI:Fn,min:Yn,max:Wn}=Math,se=e=>Math.round(e*100)/100,qr=e=>Math.round(e*100)/100,Be=Fn*2,Hn=Fn/3,Os=Fn/180,Fs=180/Fn;function Vn(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}var C={format:{},autodetect:[]};var Qo=class{constructor(...t){let r=this;if(x(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=Ie(t),o=!1;if(!n){o=!0,C.sorted||(C.autodetect=C.autodetect.sort((i,s)=>s.p-i.p),C.sorted=!0);for(let i of C.autodetect)if(n=i.test(...t),n)break}if(C.format[n]){let i=C.format[n].apply(null,o?t:t.slice(0,-1));r._rgb=Vt(i)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return x(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}},m=Qo;var Ys="3.1.2";var Ws=(...e)=>new m(...e);Ws.version=Ys;var T=Ws;var Gc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},It=Gc;var jc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Uc=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,zc=e=>{if(e.match(jc)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16),r=t>>16,n=t>>8&255,o=t&255;return[r,n,o,1]}if(e.match(Uc)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),r=t>>24&255,n=t>>16&255,o=t>>8&255,i=Math.round((t&255)/255*100)/100;return[r,n,o,i]}throw new Error(`unknown hex color: ${e}`)},Gn=zc;var{round:jn}=Math,Zc=(...e)=>{let[t,r,n,o]=A(e,"rgba"),i=Ie(e)||"auto";o===void 0&&(o=1),i==="auto"&&(i=o<1?"rgba":"rgb"),t=jn(t),r=jn(r),n=jn(n);let a="000000"+(t<<16|r<<8|n).toString(16);a=a.substr(a.length-6);let l="0"+jn(o*255).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}},Un=Zc;m.prototype.name=function(){let e=Un(this._rgb,"rgb");for(let t of Object.keys(It))if(It[t]===e)return t.toLowerCase();return e};C.format.named=e=>{if(e=e.toLowerCase(),It[e])return Gn(It[e]);throw new Error("unknown color name: "+e)};C.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&x(e)==="string"&&It[e.toLowerCase()])return"named"}});m.prototype.alpha=function(e,t=!1){return e!==void 0&&x(e)==="number"?t?(this._rgb[3]=e,this):new m([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};m.prototype.clipped=function(){return this._rgb._clipped||!1};var Qr={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:.008856451679035631,kKE:8,kK:903.2962962962963,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},it=Qr,qc=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Oe(e){let t=qc.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);Qr.labWhitePoint=e,Qr.Xn=t[0],Qr.Zn=t[1]}function Nt(){return Qr.labWhitePoint}var Qc=(...e)=>{e=A(e,"lab");let[t,r,n]=e,[o,i,s]=Xc(t,r,n),[a,l,f]=Ko(o,i,s);return[a,l,f,e.length>3?e[3]:1]},Xc=(e,t,r)=>{let{kE:n,kK:o,kKE:i,Xn:s,Yn:a,Zn:l}=it,f=(e+16)/116,p=.002*t+f,u=f-.005*r,c=p*p*p,d=u*u*u,h=c>n?c:(116*p-16)/o,v=e>i?Math.pow((e+16)/116,3):e/o,g=d>n?d:(116*u-16)/o,b=h*s,M=v*a,L=g*l;return[b,M,L]},Xo=e=>{let t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},Ko=(e,t,r)=>{let{MtxAdaptMa:n,MtxAdaptMaI:o,MtxXYZ2RGB:i,RefWhiteRGB:s,Xn:a,Yn:l,Zn:f}=it,p=a*n.m00+l*n.m10+f*n.m20,u=a*n.m01+l*n.m11+f*n.m21,c=a*n.m02+l*n.m12+f*n.m22,d=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,h=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,v=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,g=(e*n.m00+t*n.m10+r*n.m20)*(d/p),b=(e*n.m01+t*n.m11+r*n.m21)*(h/u),M=(e*n.m02+t*n.m12+r*n.m22)*(v/c),L=g*o.m00+b*o.m10+M*o.m20,E=g*o.m01+b*o.m11+M*o.m21,N=g*o.m02+b*o.m12+M*o.m22,I=Xo(L*i.m00+E*i.m10+N*i.m20),_=Xo(L*i.m01+E*i.m11+N*i.m21),y=Xo(L*i.m02+E*i.m12+N*i.m22);return[I*255,_*255,y*255]},pr=Qc;var Kc=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=ei(t,r,n),[l,f,p]=Jc(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]};function Jc(e,t,r){let{Xn:n,Yn:o,Zn:i,kE:s,kK:a}=it,l=e/n,f=t/o,p=r/i,u=l>s?Math.pow(l,1/3):(a*l+16)/116,c=f>s?Math.pow(f,1/3):(a*f+16)/116,d=p>s?Math.pow(p,1/3):(a*p+16)/116;return[116*c-16,500*(u-c),200*(c-d)]}function Jo(e){let t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}var ei=(e,t,r)=>{e=Jo(e/255),t=Jo(t/255),r=Jo(r/255);let{MtxRGB2XYZ:n,MtxAdaptMa:o,MtxAdaptMaI:i,Xn:s,Yn:a,Zn:l,As:f,Bs:p,Cs:u}=it,c=e*n.m00+t*n.m10+r*n.m20,d=e*n.m01+t*n.m11+r*n.m21,h=e*n.m02+t*n.m12+r*n.m22,v=s*o.m00+a*o.m10+l*o.m20,g=s*o.m01+a*o.m11+l*o.m21,b=s*o.m02+a*o.m12+l*o.m22,M=c*o.m00+d*o.m10+h*o.m20,L=c*o.m01+d*o.m11+h*o.m21,E=c*o.m02+d*o.m12+h*o.m22;return M*=v/f,L*=g/p,E*=b/u,c=M*i.m00+L*i.m10+E*i.m20,d=M*i.m01+L*i.m11+E*i.m21,h=M*i.m02+L*i.m12+E*i.m22,[c,d,h]},dr=Kc;m.prototype.lab=function(){return dr(this._rgb)};var ef=(...e)=>new m(...e,"lab");Object.assign(T,{lab:ef,getLabWhitePoint:Nt,setLabWhitePoint:Oe});C.format.lab=pr;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"lab"),x(e)==="array"&&e.length===3)return"lab"}});m.prototype.darken=function(e=1){let t=this,r=t.lab();return r[0]-=it.Kn*e,new m(r,"lab").alpha(t.alpha(),!0)};m.prototype.brighten=function(e=1){return this.darken(-e)};m.prototype.darker=m.prototype.darken;m.prototype.brighter=m.prototype.brighten;m.prototype.get=function(e){let[t,r]=e.split("."),n=this[t]();if(r){let o=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(o>-1)return n[o];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};var{pow:tf}=Math,rf=1e-7,nf=20;m.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&x(e)==="number"){if(e===0)return new m([0,0,0,this._rgb[3]],"rgb");if(e===1)return new m([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=nf,o=(s,a)=>{let l=s.interpolate(a,.5,t),f=l.luminance();return Math.abs(e-f)<rf||!n--?l:f>e?o(s,l):o(l,a)},i=(r>e?o(new m([0,0,0]),this):o(this,new m([255,255,255]))).rgb();return new m([...i,this._rgb[3]])}return of(...this._rgb.slice(0,3))};var of=(e,t,r)=>(e=ti(e),t=ti(t),r=ti(r),.2126*e+.7152*t+.0722*r),ti=e=>(e/=255,e<=.03928?e/12.92:tf((e+.055)/1.055,2.4));var G={};var st=(e,t,r=.5,...n)=>{let o=n[0]||"lrgb";if(!G[o]&&!n.length&&(o=Object.keys(G)[0]),!G[o])throw new Error(`interpolation mode ${o} is not defined`);return x(e)!=="object"&&(e=new m(e)),x(t)!=="object"&&(t=new m(t)),G[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};m.prototype.mix=m.prototype.interpolate=function(e,t=.5,...r){return st(this,e,t,...r)};m.prototype.premultiply=function(e=!1){let t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new m([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var{sin:sf,cos:af}=Math,lf=(...e)=>{let[t,r,n]=A(e,"lch");return isNaN(n)&&(n=0),n=n*Os,[t,af(n)*r,sf(n)*r]},zn=lf;var cf=(...e)=>{e=A(e,"lch");let[t,r,n]=e,[o,i,s]=zn(t,r,n),[a,l,f]=pr(o,i,s);return[a,l,f,e.length>3?e[3]:1]},mr=cf;var ff=(...e)=>{let t=Vn(A(e,"hcl"));return mr(...t)},Hs=ff;var{sqrt:uf,atan2:pf,round:df}=Math,mf=(...e)=>{let[t,r,n]=A(e,"lab"),o=uf(r*r+n*n),i=(pf(n,r)*Fs+360)%360;return df(o*1e4)===0&&(i=Number.NaN),[t,o,i]},Zn=mf;var hf=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=dr(t,r,n),[l,f,p]=Zn(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Xr=hf;m.prototype.lch=function(){return Xr(this._rgb)};m.prototype.hcl=function(){return Vn(Xr(this._rgb))};var _f=(...e)=>new m(...e,"lch"),gf=(...e)=>new m(...e,"hcl");Object.assign(T,{lch:_f,hcl:gf});C.format.lch=mr;C.format.hcl=Hs;["lch","hcl"].forEach(e=>C.autodetect.push({p:2,test:(...t)=>{if(t=A(t,e),x(t)==="array"&&t.length===3)return e}}));m.prototype.saturate=function(e=1){let t=this,r=t.lch();return r[1]+=it.Kn*e,r[1]<0&&(r[1]=0),new m(r,"lch").alpha(t.alpha(),!0)};m.prototype.desaturate=function(e=1){return this.saturate(-e)};m.prototype.set=function(e,t,r=!1){let[n,o]=e.split("."),i=this[n]();if(o){let s=n.indexOf(o)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(x(t)=="string")switch(t.charAt(0)){case"+":i[s]+=+t;break;case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else if(x(t)==="number")i[s]=t;else throw new Error("unsupported value for Color.set");let a=new m(i,n);return r?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${o} in mode ${n}`)}else return i};m.prototype.tint=function(e=.5,...t){return st(this,"white",e,...t)};m.prototype.shade=function(e=.5,...t){return st(this,"black",e,...t)};var vf=(e,t,r)=>{let n=e._rgb,o=t._rgb;return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"rgb")};G.rgb=vf;var{sqrt:ri,pow:hr}=Math,bf=(e,t,r)=>{let[n,o,i]=e._rgb,[s,a,l]=t._rgb;return new m(ri(hr(n,2)*(1-r)+hr(s,2)*r),ri(hr(o,2)*(1-r)+hr(a,2)*r),ri(hr(i,2)*(1-r)+hr(l,2)*r),"rgb")};G.lrgb=bf;var Af=(e,t,r)=>{let n=e.lab(),o=t.lab();return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"lab")};G.lab=Af;var Fe=(e,t,r,n)=>{let o,i;n==="hsl"?(o=e.hsl(),i=t.hsl()):n==="hsv"?(o=e.hsv(),i=t.hsv()):n==="hcg"?(o=e.hcg(),i=t.hcg()):n==="hsi"?(o=e.hsi(),i=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",o=e.hcl(),i=t.hcl()):n==="oklch"&&(o=e.oklch().reverse(),i=t.oklch().reverse());let s,a,l,f,p,u;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,p]=o,[a,f,u]=i);let c,d,h,v;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?v=a-(s+360):a<s&&s-a>180?v=a+360-s:v=a-s,d=s+r*v):isNaN(s)?isNaN(a)?d=Number.NaN:(d=a,(p==1||p==0)&&n!="hsv"&&(c=f)):(d=s,(u==1||u==0)&&n!="hsv"&&(c=l)),c===void 0&&(c=l+r*(f-l)),h=p+r*(u-p),n==="oklch"?new m([h,c,d],n):new m([d,c,h],n)};var Vs=(e,t,r)=>Fe(e,t,r,"lch");G.lch=Vs;G.hcl=Vs;var wf=e=>{if(x(e)=="number"&&e>=0&&e<=16777215){let t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},Gs=wf;var yf=(...e)=>{let[t,r,n]=A(e,"rgb");return(t<<16)+(r<<8)+n},js=yf;m.prototype.num=function(){return js(this._rgb)};var xf=(...e)=>new m(...e,"num");Object.assign(T,{num:xf});C.format.num=Gs;C.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&x(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Ef=(e,t,r)=>{let n=e.num(),o=t.num();return new m(n+r*(o-n),"num")};G.num=Ef;var{floor:Cf}=Math,kf=(...e)=>{e=A(e,"hcg");let[t,r,n]=e,o,i,s;n=n*255;let a=r*255;if(r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let l=Cf(t),f=t-l,p=n*(1-r),u=p+a*(1-f),c=p+a*f,d=p+a;switch(l){case 0:[o,i,s]=[d,c,p];break;case 1:[o,i,s]=[u,d,p];break;case 2:[o,i,s]=[p,d,c];break;case 3:[o,i,s]=[p,u,d];break;case 4:[o,i,s]=[c,p,d];break;case 5:[o,i,s]=[d,p,u];break}}return[o,i,s,e.length>3?e[3]:1]},Us=kf;var Tf=(...e)=>{let[t,r,n]=A(e,"rgb"),o=Yn(t,r,n),i=Wn(t,r,n),s=i-o,a=s*100/255,l=o/(255-s)*100,f;return s===0?f=Number.NaN:(t===i&&(f=(r-n)/s),r===i&&(f=2+(n-t)/s),n===i&&(f=4+(t-r)/s),f*=60,f<0&&(f+=360)),[f,a,l]},zs=Tf;m.prototype.hcg=function(){return zs(this._rgb)};var If=(...e)=>new m(...e,"hcg");T.hcg=If;C.format.hcg=Us;C.autodetect.push({p:1,test:(...e)=>{if(e=A(e,"hcg"),x(e)==="array"&&e.length===3)return"hcg"}});var Nf=(e,t,r)=>Fe(e,t,r,"hcg");G.hcg=Nf;var{cos:_r}=Math,Pf=(...e)=>{e=A(e,"hsi");let[t,r,n]=e,o,i,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,o=(1+r*_r(Be*t)/_r(Hn-Be*t))/3,i=1-(s+o)):t<2/3?(t-=1/3,o=(1-r)/3,i=(1+r*_r(Be*t)/_r(Hn-Be*t))/3,s=1-(o+i)):(t-=2/3,i=(1-r)/3,s=(1+r*_r(Be*t)/_r(Hn-Be*t))/3,o=1-(i+s)),o=Me(n*o*3),i=Me(n*i*3),s=Me(n*s*3),[o*255,i*255,s*255,e.length>3?e[3]:1]},Zs=Pf;var{min:$f,sqrt:Df,acos:Sf}=Math,Rf=(...e)=>{let[t,r,n]=A(e,"rgb");t/=255,r/=255,n/=255;let o,i=$f(t,r,n),s=(t+r+n)/3,a=s>0?1-i/s:0;return a===0?o=NaN:(o=(t-r+(t-n))/2,o/=Df((t-r)*(t-r)+(t-n)*(r-n)),o=Sf(o),n>r&&(o=Be-o),o/=Be),[o*360,a,s]},qs=Rf;m.prototype.hsi=function(){return qs(this._rgb)};var Lf=(...e)=>new m(...e,"hsi");T.hsi=Lf;C.format.hsi=Zs;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsi"),x(e)==="array"&&e.length===3)return"hsi"}});var Mf=(e,t,r)=>Fe(e,t,r,"hsi");G.hsi=Mf;var Bf=(...e)=>{e=A(e,"hsl");let[t,r,n]=e,o,i,s;if(r===0)o=i=s=n*255;else{let a=[0,0,0],l=[0,0,0],f=n<.5?n*(1+r):n+r-n*r,p=2*n-f,u=t/360;a[0]=u+1/3,a[1]=u,a[2]=u-1/3;for(let c=0;c<3;c++)a[c]<0&&(a[c]+=1),a[c]>1&&(a[c]-=1),6*a[c]<1?l[c]=p+(f-p)*6*a[c]:2*a[c]<1?l[c]=f:3*a[c]<2?l[c]=p+(f-p)*(2/3-a[c])*6:l[c]=p;[o,i,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[o,i,s,e[3]]:[o,i,s,1]},Kr=Bf;var Of=(...e)=>{e=A(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;let o=Yn(t,r,n),i=Wn(t,r,n),s=(i+o)/2,a,l;return i===o?(a=0,l=Number.NaN):a=s<.5?(i-o)/(i+o):(i-o)/(2-i-o),t==i?l=(r-n)/(i-o):r==i?l=2+(n-t)/(i-o):n==i&&(l=4+(t-r)/(i-o)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,a,s,e[3]]:[l,a,s]},qn=Of;m.prototype.hsl=function(){return qn(this._rgb)};var Ff=(...e)=>new m(...e,"hsl");T.hsl=Ff;C.format.hsl=Kr;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsl"),x(e)==="array"&&e.length===3)return"hsl"}});var Yf=(e,t,r)=>Fe(e,t,r,"hsl");G.hsl=Yf;var{floor:Wf}=Math,Hf=(...e)=>{e=A(e,"hsv");let[t,r,n]=e,o,i,s;if(n*=255,r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let a=Wf(t),l=t-a,f=n*(1-r),p=n*(1-r*l),u=n*(1-r*(1-l));switch(a){case 0:[o,i,s]=[n,u,f];break;case 1:[o,i,s]=[p,n,f];break;case 2:[o,i,s]=[f,n,u];break;case 3:[o,i,s]=[f,p,n];break;case 4:[o,i,s]=[u,f,n];break;case 5:[o,i,s]=[n,f,p];break}}return[o,i,s,e.length>3?e[3]:1]},Qs=Hf;var{min:Vf,max:Gf}=Math,jf=(...e)=>{e=A(e,"rgb");let[t,r,n]=e,o=Vf(t,r,n),i=Gf(t,r,n),s=i-o,a,l,f;return f=i/255,i===0?(a=Number.NaN,l=0):(l=s/i,t===i&&(a=(r-n)/s),r===i&&(a=2+(n-t)/s),n===i&&(a=4+(t-r)/s),a*=60,a<0&&(a+=360)),[a,l,f]},Xs=jf;m.prototype.hsv=function(){return Xs(this._rgb)};var Uf=(...e)=>new m(...e,"hsv");T.hsv=Uf;C.format.hsv=Qs;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsv"),x(e)==="array"&&e.length===3)return"hsv"}});var zf=(e,t,r)=>Fe(e,t,r,"hsv");G.hsv=zf;function Gt(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,o=t[0].map((s,a)=>t.map(l=>l[a])),i=e.map(s=>o.map(a=>Array.isArray(s)?s.reduce((l,f,p)=>l+f*(a[p]||0),0):a.reduce((l,f)=>l+f*s,0)));return r===1&&(i=i[0]),n===1?i.map(s=>s[0]):i}var Zf=(...e)=>{e=A(e,"lab");let[t,r,n,...o]=e,[i,s,a]=qf([t,r,n]),[l,f,p]=Ko(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]};function qf(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Gt(r,e);return Gt(t,n.map(o=>o**3))}var gr=Zf;var Qf=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),i=ei(t,r,n);return[...Xf(i),...o.length>0&&o[0]<1?[o[0]]:[]]};function Xf(e){let t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Gt(t,e);return Gt(r,n.map(o=>Math.cbrt(o)))}var vr=Qf;m.prototype.oklab=function(){return vr(this._rgb)};var Kf=(...e)=>new m(...e,"oklab");Object.assign(T,{oklab:Kf});C.format.oklab=gr;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"oklab"),x(e)==="array"&&e.length===3)return"oklab"}});var Jf=(e,t,r)=>{let n=e.oklab(),o=t.oklab();return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"oklab")};G.oklab=Jf;var eu=(e,t,r)=>Fe(e,t,r,"oklch");G.oklch=eu;var{pow:ni,sqrt:oi,PI:ii,cos:Ks,sin:Js,atan2:tu}=Math,ea=(e,t="lrgb",r=null)=>{let n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));let o=n/r.reduce(function(u,c){return u+c});if(r.forEach((u,c)=>{r[c]*=o}),e=e.map(u=>new m(u)),t==="lrgb")return ru(e,r);let i=e.shift(),s=i.get(t),a=[],l=0,f=0;for(let u=0;u<s.length;u++)if(s[u]=(s[u]||0)*r[0],a.push(isNaN(s[u])?0:r[0]),t.charAt(u)==="h"&&!isNaN(s[u])){let c=s[u]/180*ii;l+=Ks(c)*r[0],f+=Js(c)*r[0]}let p=i.alpha()*r[0];e.forEach((u,c)=>{let d=u.get(t);p+=u.alpha()*r[c+1];for(let h=0;h<s.length;h++)if(!isNaN(d[h]))if(a[h]+=r[c+1],t.charAt(h)==="h"){let v=d[h]/180*ii;l+=Ks(v)*r[c+1],f+=Js(v)*r[c+1]}else s[h]+=d[h]*r[c+1]});for(let u=0;u<s.length;u++)if(t.charAt(u)==="h"){let c=tu(f/a[u],l/a[u])/ii*180;for(;c<0;)c+=360;for(;c>=360;)c-=360;s[u]=c}else s[u]=s[u]/a[u];return p/=n,new m(s,t).alpha(p>.99999?1:p,!0)},ru=(e,t)=>{let r=e.length,n=[0,0,0,0];for(let o=0;o<e.length;o++){let i=e[o],s=t[o]/r,a=i._rgb;n[0]+=ni(a[0],2)*s,n[1]+=ni(a[1],2)*s,n[2]+=ni(a[2],2)*s,n[3]+=a[3]*s}return n[0]=oi(n[0]),n[1]=oi(n[1]),n[2]=oi(n[2]),n[3]>.9999999&&(n[3]=1),new m(Vt(n))};var{pow:nu}=Math;function jt(e){let t="rgb",r=T("#ccc"),n=0,o=[0,1],i=[],s=[0,0],a=!1,l=[],f=!1,p=0,u=1,c=!1,d={},h=!0,v=1,g=function(_){if(_=_||["#fff","#000"],_&&x(_)==="string"&&T.brewer&&T.brewer[_.toLowerCase()]&&(_=T.brewer[_.toLowerCase()]),x(_)==="array"){_.length===1&&(_=[_[0],_[0]]),_=_.slice(0);for(let y=0;y<_.length;y++)_[y]=T(_[y]);i.length=0;for(let y=0;y<_.length;y++)i.push(y/(_.length-1))}return N(),l=_},b=function(_){if(a!=null){let y=a.length-1,D=0;for(;D<y&&_>=a[D];)D++;return D-1}return 0},M=_=>_,L=_=>_,E=function(_,y){let D,P;if(y==null&&(y=!1),isNaN(_)||_===null)return r;y?P=_:a&&a.length>2?P=b(_)/(a.length-2):u!==p?P=(_-p)/(u-p):P=1,P=L(P),y||(P=M(P)),v!==1&&(P=nu(P,v)),P=s[0]+P*(1-s[0]-s[1]),P=Me(P,0,1);let O=Math.floor(P*1e4);if(h&&d[O])D=d[O];else{if(x(l)==="array")for(let k=0;k<i.length;k++){let B=i[k];if(P<=B){D=l[k];break}if(P>=B&&k===i.length-1){D=l[k];break}if(P>B&&P<i[k+1]){P=(P-B)/(i[k+1]-B),D=T.interpolate(l[k],l[k+1],P,t);break}}else x(l)==="function"&&(D=l(P));h&&(d[O]=D)}return D};var N=()=>d={};g(e);let I=function(_){let y=T(E(_));return f&&y[f]?y[f]():y};return I.classes=function(_){if(_!=null){if(x(_)==="array")a=_,o=[_[0],_[_.length-1]];else{let y=T.analyze(o);_===0?a=[y.min,y.max]:a=T.limits(y,"e",_)}return I}return a},I.domain=function(_){if(!arguments.length)return o;p=_[0],u=_[_.length-1],i=[];let y=l.length;if(_.length===y&&p!==u)for(let D of Array.from(_))i.push((D-p)/(u-p));else{for(let D=0;D<y;D++)i.push(D/(y-1));if(_.length>2){let D=_.map((O,k)=>k/(_.length-1)),P=_.map(O=>(O-p)/(u-p));P.every((O,k)=>D[k]===O)||(L=O=>{if(O<=0||O>=1)return O;let k=0;for(;O>=P[k+1];)k++;let B=(O-P[k])/(P[k+1]-P[k]);return D[k]+B*(D[k+1]-D[k])})}}return o=[p,u],I},I.mode=function(_){return arguments.length?(t=_,N(),I):t},I.range=function(_,y){return g(_,y),I},I.out=function(_){return f=_,I},I.spread=function(_){return arguments.length?(n=_,I):n},I.correctLightness=function(_){return _==null&&(_=!0),c=_,N(),c?M=function(y){let D=E(0,!0).lab()[0],P=E(1,!0).lab()[0],O=D>P,k=E(y,!0).lab()[0],B=D+(P-D)*y,oe=k-B,Re=0,Ct=1,nt=20;for(;Math.abs(oe)>.01&&nt-- >0;)(function(){return O&&(oe*=-1),oe<0?(Re=y,y+=(Ct-y)*.5):(Ct=y,y+=(Re-y)*.5),k=E(y,!0).lab()[0],oe=k-B})();return y}:M=y=>y,I},I.padding=function(_){return _!=null?(x(_)==="number"&&(_=[_,_]),s=_,I):s},I.colors=function(_,y){arguments.length<2&&(y="hex");let D=[];if(arguments.length===0)D=l.slice(0);else if(_===1)D=[I(.5)];else if(_>1){let P=o[0],O=o[1]-P;D=ou(0,_,!1).map(k=>I(P+k/(_-1)*O))}else{e=[];let P=[];if(a&&a.length>2)for(let O=1,k=a.length,B=1<=k;B?O<k:O>k;B?O++:O--)P.push((a[O-1]+a[O])*.5);else P=o;D=P.map(O=>I(O))}return T[y]&&(D=D.map(P=>P[y]())),D},I.cache=function(_){return _!=null?(h=_,I):h},I.gamma=function(_){return _!=null?(v=_,I):v},I.nodata=function(_){return _!=null?(r=T(_),I):r},I}function ou(e,t,r){let n=[],o=e<t,i=r?o?t+1:t-1:t;for(let s=e;o?s<i:s>i;o?s++:s--)n.push(s);return n}var iu=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let o=1;o<=t.length;o++)n[o]=(t[o]||0)+t[o-1];t=n}return t},su=function(e){let t,r,n,o;if(e=e.map(i=>new m(i)),e.length===2)[r,n]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>r[a]+i*(n[a]-r[a]));return new m(s,"lab")};else if(e.length===3)[r,n,o]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>(1-i)*(1-i)*r[a]+2*(1-i)*i*n[a]+i*i*o[a]);return new m(s,"lab")};else if(e.length===4){let i;[r,n,o,i]=e.map(s=>s.lab()),t=function(s){let a=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*o[l]+s*s*s*i[l]);return new m(a,"lab")}}else if(e.length>=5){let i,s,a;i=e.map(l=>l.lab()),a=e.length-1,s=iu(a),t=function(l){let f=1-l,p=[0,1,2].map(u=>i.reduce((c,d,h)=>c+s[h]*f**(a-h)*l**h*d[u],0));return new m(p,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},ta=e=>{let t=su(e);return t.scale=()=>jt(t),t};var{round:ra}=Math;m.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ra)};m.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:ra(t):t)};var au=(...e)=>new m(...e,"rgb");Object.assign(T,{rgb:au});C.format.rgb=(...e)=>{let t=A(e,"rgba");return t[3]===void 0&&(t[3]=1),t};C.autodetect.push({p:3,test:(...e)=>{if(e=A(e,"rgba"),x(e)==="array"&&(e.length===3||e.length===4&&x(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var ze=(e,t,r)=>{if(!ze[r])throw new Error("unknown blend mode "+r);return ze[r](e,t)},Pt=e=>(t,r)=>{let n=T(r).rgb(),o=T(t).rgb();return T.rgb(e(n,o))},$t=e=>(t,r)=>{let n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},lu=e=>e,cu=(e,t)=>e*t/255,fu=(e,t)=>e>t?t:e,uu=(e,t)=>e>t?e:t,pu=(e,t)=>255*(1-(1-e/255)*(1-t/255)),du=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),mu=(e,t)=>255*(1-(1-t/255)/(e/255)),hu=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);ze.normal=Pt($t(lu));ze.multiply=Pt($t(cu));ze.screen=Pt($t(pu));ze.overlay=Pt($t(du));ze.darken=Pt($t(fu));ze.lighten=Pt($t(uu));ze.dodge=Pt($t(hu));ze.burn=Pt($t(mu));var na=ze;var{pow:_u,sin:gu,cos:vu}=Math;function oa(e=300,t=-1.5,r=1,n=1,o=[0,1]){let i=0,s;x(o)==="array"?s=o[1]-o[0]:(s=0,o=[o,o]);let a=function(l){let f=Be*((e+120)/360+t*l),p=_u(o[0]+s*l,n),c=(i!==0?r[0]+l*i:r)*p*(1-p)/2,d=vu(f),h=gu(f),v=p+c*(-.14861*d+1.78277*h),g=p+c*(-.29227*d-.90649*h),b=p+c*(1.97294*d);return T(Vt([v*255,g*255,b*255,1]))};return a.start=function(l){return l==null?e:(e=l,a)},a.rotations=function(l){return l==null?t:(t=l,a)},a.gamma=function(l){return l==null?n:(n=l,a)},a.hue=function(l){return l==null?r:(r=l,x(r)==="array"?(i=r[1]-r[0],i===0&&(r=r[1])):i=0,a)},a.lightness=function(l){return l==null?o:(x(l)==="array"?(o=l,s=l[1]-l[0]):(o=[l,l],s=0),a)},a.scale=()=>T.scale(a),a.hue(r),a}var bu="0123456789abcdef",{floor:Au,random:wu}=Math,ia=()=>{let e="#";for(let t=0;t<6;t++)e+=bu.charAt(Au(wu()*16));return new m(e,"hex")};var{log:sa,pow:yu,floor:xu,abs:Eu}=Math;function si(e,t=null){let r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return x(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&x(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,o)=>ai(r,n,o),r}function ai(e,t="equal",r=7){x(e)=="array"&&(e=si(e));let{min:n,max:o}=e,i=e.values.sort((a,l)=>a-l);if(r===1)return[n,o];let s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(o)),t.substr(0,1)==="e"){s.push(n);for(let a=1;a<r;a++)s.push(n+a/r*(o-n));s.push(o)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");let a=Math.LOG10E*sa(n),l=Math.LOG10E*sa(o);s.push(n);for(let f=1;f<r;f++)s.push(yu(10,a+f/r*(l-a)));s.push(o)}else if(t.substr(0,1)==="q"){s.push(n);for(let a=1;a<r;a++){let l=(i.length-1)*a/r,f=xu(l);if(f===l)s.push(i[f]);else{let p=l-f;s.push(i[f]*(1-p)+i[f+1]*p)}}s.push(o)}else if(t.substr(0,1)==="k"){let a,l=i.length,f=new Array(l),p=new Array(r),u=!0,c=0,d=null;d=[],d.push(n);for(let g=1;g<r;g++)d.push(n+g/r*(o-n));for(d.push(o);u;){for(let b=0;b<r;b++)p[b]=0;for(let b=0;b<l;b++){let M=i[b],L=Number.MAX_VALUE,E;for(let N=0;N<r;N++){let I=Eu(d[N]-M);I<L&&(L=I,E=N),p[E]++,f[b]=E}}let g=new Array(r);for(let b=0;b<r;b++)g[b]=null;for(let b=0;b<l;b++)a=f[b],g[a]===null?g[a]=i[b]:g[a]+=i[b];for(let b=0;b<r;b++)g[b]*=1/p[b];u=!1;for(let b=0;b<r;b++)if(g[b]!==d[b]){u=!0;break}d=g,c++,c>200&&(u=!1)}let h={};for(let g=0;g<r;g++)h[g]=[];for(let g=0;g<l;g++)a=f[g],h[a].push(i[g]);let v=[];for(let g=0;g<r;g++)v.push(h[g][0]),v.push(h[g][h[g].length-1]);v=v.sort((g,b)=>g-b),s.push(v[0]);for(let g=1;g<v.length;g+=2){let b=v[g];!isNaN(b)&&s.indexOf(b)===-1&&s.push(b)}}return s}var aa=(e,t)=>{e=new m(e),t=new m(t);let r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};var la=.027,Cu=5e-4,ku=.1,ca=1.14,Qn=.022,fa=1.414,pa=(e,t)=>{e=new m(e),t=new m(t),e.alpha()<1&&(e=st(t,e,e.alpha(),"rgb"));let r=ua(...e.rgb()),n=ua(...t.rgb()),o=r>=Qn?r:r+Math.pow(Qn-r,fa),i=n>=Qn?n:n+Math.pow(Qn-n,fa),s=Math.pow(i,.56)-Math.pow(o,.57),a=Math.pow(i,.65)-Math.pow(o,.62),l=Math.abs(i-o)<Cu?0:o<i?s*ca:a*ca;return(Math.abs(l)<ku?0:l>0?l-la:l+la)*100};function ua(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}var{sqrt:mt,pow:Q,min:Tu,max:Iu,atan2:da,abs:ma,cos:Xn,sin:ha,exp:Nu,PI:_a}=Math;function ga(e,t,r=1,n=1,o=1){var i=function(pt){return 360*pt/(2*_a)},s=function(pt){return 2*_a*pt/360};e=new m(e),t=new m(t);let[a,l,f]=Array.from(e.lab()),[p,u,c]=Array.from(t.lab()),d=(a+p)/2,h=mt(Q(l,2)+Q(f,2)),v=mt(Q(u,2)+Q(c,2)),g=(h+v)/2,b=.5*(1-mt(Q(g,7)/(Q(g,7)+Q(25,7)))),M=l*(1+b),L=u*(1+b),E=mt(Q(M,2)+Q(f,2)),N=mt(Q(L,2)+Q(c,2)),I=(E+N)/2,_=i(da(f,M)),y=i(da(c,L)),D=_>=0?_:_+360,P=y>=0?y:y+360,O=ma(D-P)>180?(D+P+360)/2:(D+P)/2,k=1-.17*Xn(s(O-30))+.24*Xn(s(2*O))+.32*Xn(s(3*O+6))-.2*Xn(s(4*O-63)),B=P-D;B=ma(B)<=180?B:P<=D?B+360:B-360,B=2*mt(E*N)*ha(s(B)/2);let oe=p-a,Re=N-E,Ct=1+.015*Q(d-50,2)/mt(20+Q(d-50,2)),nt=1+.045*I,kt=1+.015*I*k,In=30*Nu(-Q((O-275)/25,2)),Nn=-(2*mt(Q(I,7)/(Q(I,7)+Q(25,7))))*ha(2*s(In)),Pn=mt(Q(oe/(r*Ct),2)+Q(Re/(n*nt),2)+Q(B/(o*kt),2)+Nn*(Re/(n*nt))*(B/(o*kt)));return Iu(0,Tu(100,Pn))}function va(e,t,r="lab"){e=new m(e),t=new m(t);let n=e.get(r),o=t.get(r),i=0;for(let s in n){let a=(n[s]||0)-(o[s]||0);i+=a*a}return Math.sqrt(i)}var ba=(...e)=>{try{return new m(...e),!0}catch{return!1}};var Aa={cool(){return jt([T.hsl(180,1,.9),T.hsl(250,.7,.4)])},hot(){return jt(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}};var li={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ya=Object.keys(li),wa=new Map(ya.map(e=>[e.toLowerCase(),e])),Pu=typeof Proxy=="function"?new Proxy(li,{get(e,t){let r=t.toLowerCase();if(wa.has(r))return e[wa.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(ya)}}):li,xa=Pu;var $u=(...e)=>{e=A(e,"cmyk");let[t,r,n,o]=e,i=e.length>4?e[4]:1;return o===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-o),r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),i]},Ea=$u;var{max:Ca}=Math,Du=(...e)=>{let[t,r,n]=A(e,"rgb");t=t/255,r=r/255,n=n/255;let o=1-Ca(t,Ca(r,n)),i=o<1?1/(1-o):0,s=(1-t-o)*i,a=(1-r-o)*i,l=(1-n-o)*i;return[s,a,l,o]},ka=Du;m.prototype.cmyk=function(){return ka(this._rgb)};var Su=(...e)=>new m(...e,"cmyk");Object.assign(T,{cmyk:Su});C.format.cmyk=Ea;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"cmyk"),x(e)==="array"&&e.length===4)return"cmyk"}});var Ru=(...e)=>{let t=A(e,"hsla"),r=Ie(e)||"lsa";return t[0]=se(t[0]||0)+"deg",t[1]=se(t[1]*100)+"%",t[2]=se(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},Ta=Ru;var Lu=(...e)=>{let t=A(e,"lab"),r=Ie(e)||"lab";return t[0]=se(t[0])+"%",t[1]=se(t[1]),t[2]=se(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},Ia=Lu;var Mu=(...e)=>{let t=A(e,"lch"),r=Ie(e)||"lab";return t[0]=se(t[0])+"%",t[1]=se(t[1]),t[2]=isNaN(t[2])?"none":se(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},Na=Mu;var Bu=(...e)=>{let t=A(e,"lab");return t[0]=se(t[0]*100)+"%",t[1]=qr(t[1]),t[2]=qr(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},Pa=Bu;var Ou=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=vr(t,r,n),[l,f,p]=Zn(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Kn=Ou;var Fu=(...e)=>{let t=A(e,"lch");return t[0]=se(t[0]*100)+"%",t[1]=qr(t[1]),t[2]=isNaN(t[2])?"none":se(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},$a=Fu;var{round:ci}=Math,Yu=(...e)=>{let t=A(e,"rgba"),r=Ie(e)||"rgb";if(r.substr(0,3)==="hsl")return Ta(qn(t),r);if(r.substr(0,3)==="lab"){let n=Nt();Oe("d50");let o=Ia(dr(t),r);return Oe(n),o}if(r.substr(0,3)==="lch"){let n=Nt();Oe("d50");let o=Na(Xr(t),r);return Oe(n),o}return r.substr(0,5)==="oklab"?Pa(vr(t)):r.substr(0,5)==="oklch"?$a(Kn(t)):(t[0]=ci(t[0]),t[1]=ci(t[1]),t[2]=ci(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},Da=Yu;var Wu=(...e)=>{e=A(e,"lch");let[t,r,n,...o]=e,[i,s,a]=zn(t,r,n),[l,f,p]=gr(i,s,a);return[l,f,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Jn=Wu;var ht=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ze=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,eo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Ye=/\s*/.source,Ar=/\s+/.source,fi=/\s*,\s*/.source,to=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,wr=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Sa=new RegExp("^rgba?\\("+Ye+[ht,ht,ht].join(Ar)+wr+"\\)$"),Ra=new RegExp("^rgb\\("+Ye+[ht,ht,ht].join(fi)+Ye+"\\)$"),La=new RegExp("^rgba\\("+Ye+[ht,ht,ht,Ze].join(fi)+Ye+"\\)$"),Ma=new RegExp("^hsla?\\("+Ye+[to,eo,eo].join(Ar)+wr+"\\)$"),Ba=new RegExp("^hsl?\\("+Ye+[to,eo,eo].join(fi)+Ye+"\\)$"),Oa=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Fa=new RegExp("^lab\\("+Ye+[Ze,Ze,Ze].join(Ar)+wr+"\\)$"),Ya=new RegExp("^lch\\("+Ye+[Ze,Ze,to].join(Ar)+wr+"\\)$"),Wa=new RegExp("^oklab\\("+Ye+[Ze,Ze,Ze].join(Ar)+wr+"\\)$"),Ha=new RegExp("^oklch\\("+Ye+[Ze,Ze,to].join(Ar)+wr+"\\)$"),{round:Va}=Math,br=e=>e.map((t,r)=>r<=2?Me(Va(t),0,255):t),X=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),_e=(e,t)=>e==="none"?t:e,Ga=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(C.format.named)try{return C.format.named(e)}catch{}if((t=e.match(Sa))||(t=e.match(Ra))){let r=t.slice(1,4);for(let o=0;o<3;o++)r[o]=+X(_e(r[o],0),0,255);r=br(r);let n=t[4]!==void 0?+X(t[4],0,1):1;return r[3]=n,r}if(t=e.match(La)){let r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+X(r[n],0,255);return r}if((t=e.match(Ma))||(t=e.match(Ba))){let r=t.slice(1,4);r[0]=+_e(r[0].replace("deg",""),0),r[1]=+X(_e(r[1],0),0,100)*.01,r[2]=+X(_e(r[2],0),0,100)*.01;let n=br(Kr(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Oa)){let r=t.slice(1,4);r[1]*=.01,r[2]*=.01;let n=Kr(r);for(let o=0;o<3;o++)n[o]=Va(n[o]);return n[3]=+t[4],n}if(t=e.match(Fa)){let r=t.slice(1,4);r[0]=X(_e(r[0],0),0,100),r[1]=X(_e(r[1],0),-125,125,!0),r[2]=X(_e(r[2],0),-125,125,!0);let n=Nt();Oe("d50");let o=br(pr(r));Oe(n);let i=t[4]!==void 0?+X(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Ya)){let r=t.slice(1,4);r[0]=X(r[0],0,100),r[1]=X(_e(r[1],0),0,150,!1),r[2]=+_e(r[2].replace("deg",""),0);let n=Nt();Oe("d50");let o=br(mr(r));Oe(n);let i=t[4]!==void 0?+X(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Wa)){let r=t.slice(1,4);r[0]=X(_e(r[0],0),0,1),r[1]=X(_e(r[1],0),-.4,.4,!0),r[2]=X(_e(r[2],0),-.4,.4,!0);let n=br(gr(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Ha)){let r=t.slice(1,4);r[0]=X(_e(r[0],0),0,1),r[1]=X(_e(r[1],0),0,.4,!1),r[2]=+_e(r[2].replace("deg",""),0);let n=br(Jn(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}};Ga.test=e=>Sa.test(e)||Ma.test(e)||Fa.test(e)||Ya.test(e)||Wa.test(e)||Ha.test(e)||Ra.test(e)||La.test(e)||Ba.test(e)||Oa.test(e)||e==="transparent";var ui=Ga;m.prototype.css=function(e){return Da(this._rgb,e)};var Hu=(...e)=>new m(...e,"css");T.css=Hu;C.format.css=ui;C.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&x(e)==="string"&&ui.test(e))return"css"}});C.format.gl=(...e)=>{let t=A(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};var Vu=(...e)=>new m(...e,"gl");T.gl=Vu;m.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};m.prototype.hex=function(e){return Un(this._rgb,e)};var Gu=(...e)=>new m(...e,"hex");T.hex=Gu;C.format.hex=Gn;C.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&x(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var{log:ro}=Math,ju=e=>{let t=e/100,r,n,o;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*ro(n),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*ro(o)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*ro(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*ro(n),o=255),[r,n,o,1]},no=ju;var{round:Uu}=Math,zu=(...e)=>{let t=A(e,"rgb"),r=t[0],n=t[2],o=1e3,i=4e4,s=.4,a;for(;i-o>s;){a=(i+o)*.5;let l=no(a);l[2]/l[0]>=n/r?i=a:o=a}return Uu(a)},ja=zu;m.prototype.temp=m.prototype.kelvin=m.prototype.temperature=function(){return ja(this._rgb)};var pi=(...e)=>new m(...e,"temp");Object.assign(T,{temp:pi,kelvin:pi,temperature:pi});C.format.temp=C.format.kelvin=C.format.temperature=no;m.prototype.oklch=function(){return Kn(this._rgb)};var Zu=(...e)=>new m(...e,"oklch");Object.assign(T,{oklch:Zu});C.format.oklch=Jn;C.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"oklch"),x(e)==="array"&&e.length===3)return"oklch"}});Object.assign(T,{analyze:si,average:ea,bezier:ta,blend:na,brewer:xa,Color:m,colors:It,contrast:aa,contrastAPCA:pa,cubehelix:oa,deltaE:ga,distance:va,input:C,interpolate:st,limits:ai,mix:st,random:ia,scale:jt,scales:Aa,valid:ba});var di=T;var sc=require("obsidian");var Ua=globalThis.process?.env?.NODE_ENV,w=Ua&&!Ua.toLowerCase().startsWith("prod");var We=Array.isArray,za=Array.prototype.indexOf,Jr=Array.from,mi=Object.keys,K=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,oo=Object.getOwnPropertyDescriptors,hi=Object.prototype,Za=Array.prototype,Ut=Object.getPrototypeOf,_i=Object.isExtensible;var ge=()=>{};function qa(e){return e()}function zt(e){for(var t=0;t<e.length;t++)e[t]()}var ve=Symbol("$state"),en=Symbol("legacy props"),Qa=Symbol(""),io=Symbol("proxy path");function so(e){return e===this.v}function tn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function yr(e){return!tn(e,this.v)}function Xa(){if(w){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ka(e){if(w){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ja(){if(w){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function el(e){if(w){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function tl(){if(w){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function rl(){if(w){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function nl(e){if(w){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function ol(e){if(w){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function il(){if(w){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function sl(){if(w){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function al(){if(w){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var at=!1,lt=!1;function ll(){at=!0}var Dt="[",St="[!",Zt="]",_t={};var J=Symbol(),qe=Symbol("filename"),cl=Symbol("hmr"),fl="http://www.w3.org/1999/xhtml";var rn=null;function gt(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}if(o.length===1)return null;K(t,"stack",{value:o.join(`
`)}),K(t,"name",{value:`${e}Error`})}return t}function Qe(e,t){return e.label=t,ao(e.v,t),e}function ao(e,t){return e?.[io]?.(t),e}function nn(e){if(w){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var Y=null;function on(e){Y=e}var Xe=null;function sn(e){Xe=e}function an(e,t=!1,r){var n=Y={p:Y,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};at&&!t&&(Y.l={s:null,u:null,r1:[],r2:Ve(!1)}),Ee(()=>{n.d=!0}),w&&(Y.function=r,Xe=r)}function ln(e){let t=Y;if(t!==null){e!==void 0&&(t.x=e);let s=t.e;if(s!==null){var r=S,n=F;t.e=null;try{for(var o=0;o<s.length;o++){var i=s[o];ie(i.effect),ee(i.reaction),Ge(i.fn)}}finally{ie(r),ee(n)}}Y=t.p,w&&(Xe=t.p?.function??null),t.m=!0}return e||{}}function vt(){return!at||Y!==null&&Y.l===null}var Xu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function bt(e){if(typeof e!="object"||e===null||ve in e)return e;let t=Ut(e);if(t!==hi&&t!==Za)return e;var r=new Map,n=We(e),o=ct(0),i=w&&lt?gt("CreatedAt"):null,s=F,a=p=>{var u=F;ee(s);var c=p();return ee(u),c};n&&r.set("length",ct(e.length,i));var l="";function f(p){l=p,Qe(o,`${l} version`);for(let[u,c]of r)Qe(c,qt(l,u))}return new Proxy(e,{defineProperty(p,u,c){return(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&il(),a(()=>{var d=r.get(u);d===void 0?(d=ct(c.value,i),r.set(u,d),w&&typeof u=="string"&&Qe(d,qt(l,u))):U(d,c.value,!0)}),!0},deleteProperty(p,u){var c=r.get(u);if(c===void 0){if(u in p){let v=a(()=>ct(J,i));r.set(u,v),bi(o),w&&Qe(v,qt(l,u))}}else{if(n&&typeof u=="string"){var d=r.get("length"),h=Number(u);Number.isInteger(h)&&h<d.v&&U(d,h)}U(c,J),bi(o)}return!0},get(p,u,c){if(u===ve)return e;if(w&&u===io)return f;var d=r.get(u),h=u in p;if(d===void 0&&(!h||xe(p,u)?.writable)&&(d=a(()=>{var g=bt(h?p[u]:J),b=ct(g,i);return w&&Qe(b,qt(l,u)),b}),r.set(u,d)),d!==void 0){var v=R(d);return v===J?void 0:v}return Reflect.get(p,u,c)},getOwnPropertyDescriptor(p,u){var c=Reflect.getOwnPropertyDescriptor(p,u);if(c&&"value"in c){var d=r.get(u);d&&(c.value=R(d))}else if(c===void 0){var h=r.get(u),v=h?.v;if(h!==void 0&&v!==J)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(p,u){if(u===ve)return!0;var c=r.get(u),d=c!==void 0&&c.v!==J||Reflect.has(p,u);if(c!==void 0||S!==null&&(!d||xe(p,u)?.writable)){c===void 0&&(c=a(()=>{var v=d?bt(p[u]):J,g=ct(v,i);return w&&Qe(g,qt(l,u)),g}),r.set(u,c));var h=R(c);if(h===J)return!1}return d},set(p,u,c,d){var h=r.get(u),v=u in p;if(n&&u==="length")for(var g=c;g<h.v;g+=1){var b=r.get(g+"");b!==void 0?U(b,J):g in p&&(b=a(()=>ct(J,i)),r.set(g+"",b),w&&Qe(b,qt(l,g)))}if(h===void 0)(!v||xe(p,u)?.writable)&&(h=a(()=>{var I=ct(void 0,i);return U(I,bt(c)),I}),r.set(u,h),w&&Qe(h,qt(l,u)));else{v=h.v!==J;var M=a(()=>bt(c));U(h,M)}var L=Reflect.getOwnPropertyDescriptor(p,u);if(L?.set&&L.set.call(d,c),!v){if(n&&typeof u=="string"){var E=r.get("length"),N=Number(u);Number.isInteger(N)&&N>=E.v&&U(E,N+1)}bi(o)}return!0},ownKeys(p){R(o);var u=Reflect.ownKeys(p).filter(h=>{var v=r.get(h);return v===void 0||v.v!==J});for(var[c,d]of r)d.v!==J&&!(c in p)&&u.push(c);return u},setPrototypeOf(){sl()}})}function qt(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:Xu.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function bi(e,t=1){U(e,e.v+t)}function lo(e){try{if(e!==null&&typeof e=="object"&&ve in e)return e[ve]}catch{}return e}function At(e){var t=2050,r=F!==null&&(F.f&2)!==0?F:null;S===null||r!==null&&(r.f&256)!==0?t|=256:S.f|=1048576;let n={ctx:Y,deps:null,effects:null,equals:so,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??S};return w&&lt&&(n.created=gt("CreatedAt")),n}function Rt(e){let t=At(e);return t.equals=yr,t}function co(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ae(t[r])}}var Ai=[];function Ku(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return t;t=t.parent}return null}function xi(e){var t,r=S;if(ie(Ku(e)),w){let n=Qt;wi(new Set);try{Ai.includes(e)&&Xa(),Ai.push(e),co(e),t=fo(e)}finally{ie(r),wi(n),Ai.pop()}}else try{co(e),t=fo(e)}finally{ie(r)}return t}function Ei(e){var t=xi(e);if(e.equals(t)||(e.v=t,e.wv=cn()),!wt){var r=(yt||(e.f&256)!==0)&&e.deps!==null?4096:1024;le(e,r)}}var Qt=new Set,xr=new Map;function wi(e){Qt=e}function Ve(e,t){var r={f:0,v:e,reactions:null,equals:so,rv:0,wv:0};return w&&lt&&(r.created=t??gt("CreatedAt"),r.updated=null,r.set_during_effect=!1,r.trace=null),r}function ct(e,t){let r=Ve(e,t);return Ci(r),r}function ke(e,t=!1,r=!0){var o;let n=Ve(e);return t||(n.equals=yr),at&&r&&Y!==null&&Y.l!==null&&((o=Y.l).s??(o.s=[])).push(n),n}function U(e,t,r=!1){F!==null&&!Pe&&vt()&&(F.f&18)!==0&&!ft?.includes(e)&&al();let n=r?bt(t):t;return w&&ao(n,e.label),Cr(e,n)}function Cr(e,t){if(!e.equals(t)){var r=e.v;if(wt?xr.set(e,t):xr.set(e,r),e.v=t,w&&lt&&(e.updated=gt("UpdatedAt"),S!==null&&(e.set_during_effect=!0)),(e.f&2)!==0&&((e.f&2048)!==0&&xi(e),le(e,(e.f&256)===0?1024:4096)),e.wv=cn(),pl(e,2048),vt()&&S!==null&&(S.f&1024)!==0&&(S.f&96)===0&&(Ne===null?dl([e]):Ne.push(e)),w&&Qt.size>0){let n=Array.from(Qt);for(let o of n)(o.f&1024)!==0&&le(o,4096),Lt(o)&&Xt(o);Qt.clear()}}return t}function pl(e,t){var r=e.reactions;if(r!==null)for(var n=vt(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if((a&2048)===0&&!(!n&&s===S)){if(w&&(a&262144)!==0){Qt.add(s);continue}le(s,t),(a&1280)!==0&&((a&2)!==0?pl(s,4096):kr(s))}}}var uo="font-weight: bold",po="font-weight: normal";function ml(e,t,r){w?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,uo,po):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function Kt(e){w?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,uo,po):console.warn("https://svelte.dev/e/hydration_mismatch")}function hl(){w?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,uo,po):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function mo(e){w?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,uo,po):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var $=!1;function ue(e){$=e}var W;function Z(e){if(e===null)throw Kt(),_t;return W=e}function pe(){return Z(we(W))}function Te(e){if($){if(we(W)!==null)throw Kt(),_t;W=e}}function Jt(){for(var e=0,t=W;;){if(t.nodeType===8){var r=t.data;if(r===Zt){if(e===0)return t;e-=1}else(r===Dt||r===St)&&(e+=1)}var n=we(t);t.remove(),t=n}}function ho(e){if(!e||e.nodeType!==8)throw Kt(),_t;return e.data}function _l(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let l=s??0;l<this.length;l+=1)if(lo(this[l])===i){mo("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s??this.length-1);if(a===-1){for(let l=0;l<=(s??this.length-1);l+=1)if(lo(this[l])===i){mo("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let l=0;l<this.length;l+=1)if(lo(this[l])===i){mo("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var Ti,gl,fn,vl,bl;function _o(){if(Ti===void 0){Ti=window,gl=document,fn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;vl=xe(t,"firstChild").get,bl=xe(t,"nextSibling").get,_i(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),_i(r)&&(r.__t=void 0),w&&(e.__svelte_meta=null,_l())}}function Je(e=""){return document.createTextNode(e)}function de(e){return vl.call(e)}function we(e){return bl.call(e)}function De(e,t){if(!$)return de(e);var r=de(W);if(r===null)r=W.appendChild(Je());else if(t&&r.nodeType!==3){var n=Je();return r?.before(n),Z(n),n}return Z(r),r}function Ii(e,t){if(!$){var r=de(e);return r instanceof Comment&&r.data===""?we(r):r}if(t&&W?.nodeType!==3){var n=Je();return W?.before(n),Z(n),n}return W}function Mt(e,t=1,r=!1){let n=$?W:e;for(var o;t--;)o=n,n=we(n);if(!$)return n;var i=n?.nodeType;if(r&&i!==3){var s=Je();return n===null?o?.after(s):n.before(s),Z(s),s}return Z(n),n}function un(e){e.textContent=""}function $i(e){S===null&&F===null&&el(e),F!==null&&(F.f&256)!==0&&S===null&&Ja(),wt&&Ka(e)}function Ju(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function er(e,t,r,n=!0){var o=S;if(w)for(;o!==null&&(o.f&262144)!==0;)o=o.parent;var i={ctx:Y,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(w&&(i.component_function=Xe),r)try{Xt(i),i.f|=32768}catch(l){throw ae(i),l}else t!==null&&kr(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&1048704)===0;if(!s&&n&&(o!==null&&Ju(i,o),F!==null&&(F.f&2)!==0)){var a=F;(a.effects??(a.effects=[])).push(i)}return i}function Ee(e){let t=er(8,null,!1);return le(t,1024),t.teardown=e,t}function Tr(e){$i("$effect");var t=S!==null&&(S.f&32)!==0&&Y!==null&&!Y.m;if(w&&K(e,"name",{value:"$effect"}),t){var r=Y;(r.e??(r.e=[])).push({fn:e,effect:S,reaction:F})}else{var n=Ge(e);return n}}function dn(e){return $i("$effect.pre"),w&&K(e,"name",{value:"$effect.pre"}),ne(e)}function Ao(e){let t=er(64,e,!0);return()=>{ae(t)}}function wl(e){let t=er(64,e,!0);return(r={})=>new Promise(n=>{r.outro?tt(t,()=>{ae(t),n(void 0)}):(ae(t),n(void 0))})}function Ge(e){return er(4,e,!1)}function Di(e,t){var r=Y,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=ne(()=>{e(),!n.ran&&(n.ran=!0,U(r.l.r2,!0),j(t))})}function Si(){var e=Y;ne(()=>{if(R(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&1024)!==0&&le(r,4096),Lt(r)&&Xt(r),t.ran=!1}e.l.r2.v=!1}})}function ne(e){return er(8,e,!0)}function Ir(e,t=[],r=At){if(w)return ne(()=>{var o=S,i=()=>e(...s.map(R));K(o.fn,"name",{value:"{expression}"}),K(i,"name",{value:"{expression}"});let s=t.map(r);me(i)});let n=t.map(r);return me(()=>e(...n.map(R)))}function me(e,t=0){return er(24|t,e,!0)}function ce(e,t=!0){return er(40,e,!0,t)}function Ri(e){var t=e.teardown;if(t!==null){let r=wt,n=F;Ni(!0),ee(null);try{t.call(null)}finally{Ni(r),ee(n)}}}function Li(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&64)!==0?r.parent=null:ae(r,t),r=n}}function yl(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&ae(t),t=r}}function ae(e,t=!0){var r=!1;(t||(e.f&524288)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(xl(e.nodes_start,e.nodes_end),r=!0),Li(e,t&&!r),mn(e,0),le(e,16384);var n=e.transitions;if(n!==null)for(let i of n)i.stop();Ri(e);var o=e.parent;o!==null&&o.first!==null&&Mi(e),w&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function xl(e,t){for(;e!==null;){var r=e===t?null:we(e);e.remove(),e=r}}function Mi(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function tt(e,t){var r=[];wo(e,r,!0),Bi(r,()=>{ae(e),t&&t()})}function Bi(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function wo(e,t,r){if((e.f&8192)===0){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;wo(n,t,i?r:!1),n=o}}}function Bt(e){El(e,!0)}function El(e,t){if((e.f&8192)!==0){e.f^=8192,(e.f&1024)!==0&&(le(e,2048),kr(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;El(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var ep=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback,hn=[],_n=[];function Cl(){var e=hn;hn=[],zt(e)}function kl(){var e=_n;_n=[],zt(e)}function rt(e){hn.length===0&&queueMicrotask(Cl),hn.push(e)}function Tl(e){_n.length===0&&ep(kl),_n.push(e)}function Il(){hn.length>0&&Cl(),_n.length>0&&kl()}function Pl(e){var t=S;if(w&&e instanceof Error&&tp(e,t),(t.f&32768)===0){if((t.f&128)===0)throw e;t.fn(e)}else gn(e,t)}function gn(e,t){for(;t!==null;){if((t.f&128)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}var Nl=new WeakSet;function tp(e,t){if(Nl.has(e))return;Nl.add(e);let r=xe(e,"message");if(!(r&&!r.configurable)){for(var n=fn?"  ":"	",o=`
${n}in ${t.fn?.name||"<unknown>"}`,i=t.ctx;i!==null;)o+=`
${n}in ${i.function?.[qe].split("/").pop()}`,i=i.p;K(e,"message",{value:e.message+`
${o}
`}),e.stack&&K(e,"stack",{value:e.stack.split(`
`).filter(s=>!s.includes("svelte/src/internal")).join(`
`)})}}var tr=!1,Nr=null,rr=!1,wt=!1;function Ni(e){wt=e}var vn=[],bn=[],F=null,Pe=!1;function ee(e){F=e}var S=null;function ie(e){S=e}var ft=null;function Ci(e){F!==null&&F.f&2097152&&(ft===null?ft=[e]:ft.push(e))}var ye=null,Se=0,Ne=null;function dl(e){Ne=e}var Sl=1,xo=0,yt=!1,Eo=null;function cn(){return++Sl}function Lt(e){var t=e.f;if((t&2048)!==0)return!0;if((t&4096)!==0){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,a=n&&S!==null&&!yt,l=r.length;if(s||a){var f=e,p=f.parent;for(o=0;o<l;o++)i=r[o],(s||!i?.reactions?.includes(f))&&(i.reactions??(i.reactions=[])).push(f);s&&(f.f^=512),a&&p!==null&&(p.f&256)===0&&(f.f^=256)}for(o=0;o<l;o++)if(i=r[o],Lt(i)&&Ei(i),i.wv>e.wv)return!0}(!n||S!==null&&!yt)&&le(e,1024)}return!1}function Rl(e,t,r=!0){var n=e.reactions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];ft?.includes(e)||((i.f&2)!==0?Rl(i,t,!1):t===i&&(r?le(i,2048):(i.f&1024)!==0&&le(i,4096),kr(i)))}}function fo(e){var d;var t=ye,r=Se,n=Ne,o=F,i=yt,s=ft,a=Y,l=Pe,f=e.f;ye=null,Se=0,Ne=null,yt=(f&256)!==0&&(Pe||!rr||F===null),F=(f&96)===0?e:null,ft=null,on(e.ctx),Pe=!1,xo++,e.f|=2097152;try{var p=(0,e.fn)(),u=e.deps;if(ye!==null){var c;if(mn(e,Se),u!==null&&Se>0)for(u.length=Se+ye.length,c=0;c<ye.length;c++)u[Se+c]=ye[c];else e.deps=u=ye;if(!yt)for(c=Se;c<u.length;c++)((d=u[c]).reactions??(d.reactions=[])).push(e)}else u!==null&&Se<u.length&&(mn(e,Se),u.length=Se);if(vt()&&Ne!==null&&!Pe&&u!==null&&(e.f&6146)===0)for(c=0;c<Ne.length;c++)Rl(Ne[c],e);return o!==null&&o!==e&&(xo++,Ne!==null&&(n===null?n=Ne:n.push(...Ne))),p}catch(h){Pl(h)}finally{ye=t,Se=r,Ne=n,F=o,yt=i,ft=s,on(a),Pe=l,e.f^=2097152}}function rp(e,t){let r=t.reactions;if(r!==null){var n=za.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&(t.f&2)!==0&&(ye===null||!ye.includes(t))&&(le(t,4096),(t.f&768)===0&&(t.f^=512),co(t),mn(t,0))}function mn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)rp(e,r[n])}function Xt(e){var t=e.f;if((t&16384)===0){le(e,1024);var r=S,n=rr;if(S=e,rr=!0,w){var o=Xe;sn(e.component_function)}try{(t&16)!==0?yl(e):Li(e),Ri(e);var i=fo(e);if(e.teardown=typeof i=="function"?i:null,e.wv=Sl,w&&lt&&(e.f&2048)!==0&&e.deps!==null)for(var s of e.deps)s.set_during_effect&&(s.wv=cn(),s.set_during_effect=!1);w&&bn.push(e)}finally{rr=n,S=r,w&&sn(o)}}}function $l(){console.error("Last ten effects were: ",bn.slice(-10).map(e=>e.fn)),bn=[]}function np(){try{tl()}catch(e){if(w&&K(e,"stack",{value:""}),Nr!==null)if(w)try{gn(e,Nr)}catch(t){throw $l(),t}else gn(e,Nr);else throw w&&$l(),e}}function Fi(){var e=rr;try{var t=0;for(rr=!0;vn.length>0;){t++>1e3&&np();var r=vn,n=r.length;vn=[];for(var o=0;o<n;o++){var i=ip(r[o]);op(i)}xr.clear()}}finally{tr=!1,rr=e,Nr=null,w&&(bn=[])}}function op(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];(n.f&24576)===0&&Lt(n)&&(Xt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Mi(n):n.fn=null))}}function kr(e){tr||(tr=!0,queueMicrotask(Fi));for(var t=Nr=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}vn.push(t)}function ip(e){for(var t=[],r=e;r!==null;){var n=r.f,o=(n&96)!==0,i=o&&(n&1024)!==0;if(!i&&(n&8192)===0){(n&4)!==0?t.push(r):o?r.f^=1024:Lt(r)&&Xt(r);var s=r.first;if(s!==null){r=s;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)r=a.next,a=a.parent}return t}function An(e){var t;for(e&&(tr=!0,Fi(),tr=!0,t=e());;){if(Il(),vn.length===0)return tr=!1,Nr=null,w&&(bn=[]),t;tr=!0,Fi()}}function R(e){var t=e.f,r=(t&2)!==0;if(Eo!==null&&Eo.add(e),F!==null&&!Pe){if(!ft?.includes(e)){var n=F.deps;e.rv<xo&&(e.rv=xo,ye===null&&n!==null&&n[Se]===e?Se++:ye===null?ye=[e]:(!yt||!ye.includes(e))&&ye.push(e))}}else if(r&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&(i.f&256)===0&&(o.f^=256)}if(r&&(o=e,Lt(o)&&Ei(o)),w&&lt&&!Pe&&rn!==null&&F!==null&&rn.reaction===F)if(e.trace)e.trace();else{var s=gt("TracedAt");if(s){var a=rn.entries.get(e);a===void 0&&(a={traces:[]},rn.entries.set(e,a));var l=a.traces[a.traces.length-1];s.stack!==l?.stack&&a.traces.push(s)}}return wt&&xr.has(e)?xr.get(e):e.v}function j(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}var sp=-7169;function le(e,t){e.f=e.f&sp|t}function Pr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ve in e)Co(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&ve in r&&Co(r)}}}function Co(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Co(e[n],t)}catch{}let r=Ut(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=oo(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch{}}}}}var lp=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var cy=[...lp,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var cp=["touchstart","touchmove"];function Ll(e){return cp.includes(e)}var fp=["$state","$state.raw","$derived","$derived.by"],fy=[...fp,"$state.snapshot","$props","$props.id","$bindable","$effect","$effect.pre","$effect.tracking","$effect.root","$inspect","$inspect().with","$inspect.trace","$host"];var Bl=new Map;function Ol(e,t){var r=Bl.get(e);r||(r=new Set,Bl.set(e,r)),r.add(t)}var Fl=!1;function ko(){Fl||(Fl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function To(e){var t=F,r=S;ee(null),ie(null);try{return e()}finally{ee(t),ie(r)}}function Yi(e,t,r,n=r){e.addEventListener(t,()=>To(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),ko()}var Yl=new Set,Wi=new Set;function wn(e){var t=this,r=t.ownerDocument,n=e.type,o=e.composedPath?.()||[],i=o[0]||e.target,s=0,a=e.__root;if(a){var l=o.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=o.indexOf(t);if(f===-1)return;l<=f&&(s=l)}if(i=o[s]||e.target,i!==t){K(e,"currentTarget",{configurable:!0,get(){return i||r}});var p=F,u=S;ee(null),ie(null);try{for(var c,d=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var v=i["__"+n];if(v!=null&&(!i.disabled||e.target===i))if(We(v)){var[g,...b]=v;g.apply(i,[e,...b])}else v.call(i,e)}catch(M){c?d.push(M):c=M}if(e.cancelBubble||h===t||h===null)break;i=h}if(c){for(let M of d)queueMicrotask(()=>{throw M});throw c}}finally{e.__root=t,delete e.currentTarget,ee(p),ie(u)}}}var up;function Wl(){up=void 0}function Io(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ot(e,t){var r=S;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function $r(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if($)return Ot(W,null),W;o===void 0&&(o=Io(i?e:"<!>"+e),r||(o=de(o)));var s=n||fn?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=de(s),l=s.lastChild;Ot(a,l)}else Ot(s,s);return s}}function Ft(e,t){if($){S.nodes_end=W,pe();return}e!==null&&e.before(t)}var Hi=!0;function yn(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Sr(e,t){return Vl(e,t)}function Gi(e,t){_o(),t.intro=t.intro??!1;let r=t.target,n=$,o=W;try{for(var i=de(r);i&&(i.nodeType!==8||i.data!==Dt);)i=we(i);if(!i)throw _t;ue(!0),Z(i),pe();let s=Vl(e,{...t,anchor:i});if(W===null||W.nodeType!==8||W.data!==Zt)throw Kt(),_t;return ue(!1),s}catch(s){if(s===_t)return t.recover===!1&&rl(),_o(),un(r),ue(!1),Sr(e,t);throw s}finally{ue(n),Z(o),Wl()}}var Dr=new Map;function Vl(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){_o();var a=new Set,l=u=>{for(var c=0;c<u.length;c++){var d=u[c];if(!a.has(d)){a.add(d);var h=Ll(d);t.addEventListener(d,wn,{passive:h});var v=Dr.get(d);v===void 0?(document.addEventListener(d,wn,{passive:h}),Dr.set(d,1)):Dr.set(d,v+1)}}};l(Jr(Yl)),Wi.add(l);var f=void 0,p=wl(()=>{var u=r??t.appendChild(Je());return ce(()=>{if(i){an({});var c=Y;c.c=i}o&&(n.$$events=o),$&&Ot(u,null),Hi=s,f=e(u,n)||{},Hi=!0,$&&(S.nodes_end=W),i&&ln()}),()=>{for(var c of a){t.removeEventListener(c,wn);var d=Dr.get(c);--d===0?(document.removeEventListener(c,wn),Dr.delete(c)):Dr.set(c,d)}Wi.delete(l),u!==r&&u.parentNode?.removeChild(u)}});return Vi.set(f,p),f}var Vi=new WeakMap;function xn(e,t){let r=Vi.get(e);return r?(Vi.delete(e),r(t)):(w&&hl(),Promise.resolve())}function ji(e,t,[r,n]=[0,0]){$&&r===0&&pe();var o=e,i=null,s=null,a=J,l=r>0?65536:0,f=!1;let p=(c,d=!0)=>{f=!0,u(d,c)},u=(c,d)=>{if(a===(a=c))return;let h=!1;if($&&n!==-1){if(r===0){let g=ho(o);g===Dt?n=0:g===St?n=1/0:(n=parseInt(g.substring(1)),n!==n&&(n=a?1/0:-1))}let v=n>r;!!a===v&&(o=Jt(),Z(o),ue(!1),h=!0,n=-1)}a?(i?Bt(i):d&&(i=ce(()=>d(o))),s&&tt(s,()=>{s=null})):(s?Bt(s):d&&(s=ce(()=>d(o,[r+1,n]))),i&&tt(i,()=>{i=null})),h&&ue(!0)};me(()=>{f=!1,t(p),f||u(null,null)},l),$&&(o=W)}var En=null;function Zi(e,t){return t}function gp(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)wo(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var l=r.parentNode;un(l),l.append(r),n.clear(),Yt(e,t[0].prev,t[i-1].next)}Bi(o,()=>{for(var f=0;f<i;f++){var p=t[f];a||(n.delete(p.k),Yt(e,p.prev,p.next)),ae(p.e,!a)}})}function qi(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var f=e;s=$?Z(de(f)):f.appendChild(Je())}$&&pe();var p=null,u=!1,c=Rt(()=>{var d=r();return We(d)?d:d==null?[]:Jr(d)});me(()=>{var d=R(c),h=d.length;if(u&&h===0)return;u=h===0;let v=!1;if($){var g=ho(s)===St;g!==(h===0)&&(s=Jt(),Z(s),ue(!1),v=!0)}if($){for(var b=null,M,L=0;L<h;L++){if(W.nodeType===8&&W.data===Zt){s=W,v=!0,ue(!1);break}var E=d[L],N=n(E,L);M=Ul(W,a,b,null,E,N,L,o,t,r),a.items.set(N,M),b=M}h>0&&Z(Jt())}$||vp(d,a,s,o,t,n,r),i!==null&&(h===0?p?Bt(p):p=ce(()=>i(s)):p!==null&&tt(p,()=>{p=null})),v&&ue(!0),R(c)}),$&&(s=W)}function vp(e,t,r,n,o,i,s){var a=(o&8)!==0,l=(o&3)!==0,f=e.length,p=t.items,u=t.first,c=u,d,h=null,v,g=[],b=[],M,L,E,N;if(a)for(N=0;N<f;N+=1)M=e[N],L=i(M,N),E=p.get(L),E!==void 0&&(E.a?.measure(),(v??(v=new Set)).add(E));for(N=0;N<f;N+=1){if(M=e[N],L=i(M,N),E=p.get(L),E===void 0){var I=c?c.e.nodes_start:r;h=Ul(I,t,h,h===null?t.first:h.next,M,L,N,n,o,s),p.set(L,h),g=[],b=[],c=h.next;continue}if(l&&bp(E,M,N,o),(E.e.f&8192)!==0&&(Bt(E.e),a&&(E.a?.unfix(),(v??(v=new Set)).delete(E))),E!==c){if(d!==void 0&&d.has(E)){if(g.length<b.length){var _=b[0],y;h=_.prev;var D=g[0],P=g[g.length-1];for(y=0;y<g.length;y+=1)Gl(g[y],_,r);for(y=0;y<b.length;y+=1)d.delete(b[y]);Yt(t,D.prev,P.next),Yt(t,h,D),Yt(t,P,_),c=_,h=P,N-=1,g=[],b=[]}else d.delete(E),Gl(E,c,r),Yt(t,E.prev,E.next),Yt(t,E,h===null?t.first:h.next),Yt(t,h,E),h=E;continue}for(g=[],b=[];c!==null&&c.k!==L;)(c.e.f&8192)===0&&(d??(d=new Set)).add(c),b.push(c),c=c.next;if(c===null)continue;E=c}g.push(E),h=E,c=E.next}if(c!==null||d!==void 0){for(var O=d===void 0?[]:Jr(d);c!==null;)(c.e.f&8192)===0&&O.push(c),c=c.next;var k=O.length;if(k>0){var B=(o&4)!==0&&f===0?r:null;if(a){for(N=0;N<k;N+=1)O[N].a?.measure();for(N=0;N<k;N+=1)O[N].a?.fix()}gp(t,O,B,p)}}a&&rt(()=>{if(v!==void 0)for(E of v)E.a?.apply()}),S.first=t.first&&t.first.e,S.last=h&&h.e}function bp(e,t,r,n){(n&1)!==0&&Cr(e.v,t),(n&2)!==0?Cr(e.i,r):e.i=r}function Ul(e,t,r,n,o,i,s,a,l,f){var p=En,u=(l&1)!==0,c=(l&16)===0,d=u?c?ke(o,!1,!1):Ve(o):o,h=(l&2)===0?s:Ve(s);w&&u&&(d.trace=()=>{var g=typeof h=="number"?s:h.v;f()[g]});var v={i:h,v:d,k:i,a:null,e:null,prev:r,next:n};En=v;try{return v.e=ce(()=>a(e,d,h,f),$),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?t.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{En=p}}function Gl(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=we(i);o.before(i),i=s}}function Yt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Qi(e,t){rt(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let o=document.createElement("style");o.id=t.hash,o.textContent=t.code,n.appendChild(o),w&&Ol(t.hash,o)}})}var zl=[...` 	
\r\f\xA0\v\uFEFF`];function ql(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var a=s+i;(s===0||zl.includes(n[s-1]))&&(a===n.length||zl.includes(n[a]))?n=(s===0?"":n.substring(0,s))+n.substring(a+1):s=a}}return n===""?null:n}function Zl(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function Xi(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ql(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(Xi)),o&&l.push(...Object.keys(o).map(Xi));var f=0,p=-1;let v=e.length;for(var u=0;u<v;u++){var c=e[u];if(a?c==="/"&&e[u-1]==="*"&&(a=!1):i?i===c&&(i=!1):c==="/"&&e[u+1]==="*"?a=!0:c==='"'||c==="'"?i=c:c==="("?s++:c===")"&&s--,!a&&i===!1&&s===0){if(c===":"&&p===-1)p=u;else if(c===";"||u===v-1){if(p!==-1){var d=Xi(e.substring(f,p).trim());if(!l.includes(d)){c!==";"&&u++;var h=e.substring(f,u).trim();r+=" "+h+";"}}f=u+1,p=-1}}}}return n&&(r+=Zl(n)),o&&(r+=Zl(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Rr(e,t,r,n,o,i){var s=e.__className;if($||s!==r||s===void 0){var a=ql(r,n,i);(!$||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a)),e.__className=r}else if(i&&o!==i)for(var l in i){var f=!!i[l];(o==null||f!==!!o[l])&&e.classList.toggle(l,f)}return i}function Ki(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function Wt(e,t,r,n){var o=e.__style;if($||o!==t){var i=Ql(t,n);(!$||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(Ki(e,r?.[0],n[0]),Ki(e,r?.[1],n[1],"important")):Ki(e,r,n));return n}var Np=Symbol("class"),Pp=Symbol("style"),$p=Symbol("is custom element"),Dp=Symbol("is html");function es(e){if($){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Cn(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Cn(e,"checked",null),e.checked=o}}};e.__on_r=r,Tl(r),ko()}}function Cn(e,t,r,n){var o=Sp(e);if($&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||Lp(e,t,r??"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[Qa]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Rp(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Sp(e){return e.__attributes??(e.__attributes={[$p]:e.nodeName.includes("-"),[Dp]:e.namespaceURI===fl})}var Xl=new Map;function Rp(e){var t=Xl.get(e.nodeName);if(t)return t;Xl.set(e.nodeName,t=[]);for(var r,n=e,o=Element.prototype;o!==n;){r=oo(n);for(var i in r)r[i].set&&t.push(i);n=Ut(n)}return t}function Lp(e,t,r){w&&(t==="srcset"&&Mp(e,r)||Ji(e.getAttribute(t)??"",r)||ml(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Ji(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function Kl(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function Mp(e,t){var r=Kl(e.srcset),n=Kl(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Ji(r[s][0],o)||Ji(o,r[s][0])))}function ts(e,t,r=t){Yi(e,"change",n=>{var o=n?e.defaultChecked:e.checked;r(o)}),($&&e.defaultChecked!==e.checked||j(t)==null)&&r(e.checked),ne(()=>{var n=t();e.checked=!!n})}function rs(e=!1){let t=Y,r=t.l.u;if(!r)return;let n=()=>Pr(t.s);if(e){let o=0,i={},s=At(()=>{let a=!1,l=t.s;for(let f in l)l[f]!==i[f]&&(i[f]=l[f],a=!0);return a&&o++,o});n=()=>R(s)}r.b.length&&dn(()=>{Jl(t,n),zt(r.b)}),Tr(()=>{let o=j(()=>r.m.map(qa));return()=>{for(let i of o)typeof i=="function"&&i()}}),r.a.length&&Tr(()=>{Jl(t,n),zt(r.a)})}function Jl(e,t){if(e.l.s)for(let r of e.l.s)R(r);t()}function Po(e,t,r){if(e==null)return t(void 0),r&&r(void 0),ge;let n=j(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var Lr=[];function nr(e,t=ge){let r=null,n=new Set;function o(a){if(tn(e,a)&&(e=a,r)){let l=!Lr.length;for(let f of n)f[1](),Lr.push(f,e);if(l){for(let f=0;f<Lr.length;f+=2)Lr[f][0](Lr[f+1]);Lr.length=0}}}function i(a){o(a(e))}function s(a,l=ge){let f=[a,l];return n.add(f),n.size===1&&(r=t(o,i)||ge),a(e),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}function $o(e){let t;return Po(e,r=>t=r)(),t}var Do=!1,ns=Symbol();function Mr(e,t,r){let n=r[t]??(r[t]={store:null,source:ke(void 0),unsubscribe:ge});if(n.store!==e&&!(ns in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ge;else{var o=!0;n.unsubscribe=Po(e,i=>{o?n.source.v=i:U(n.source,i)}),o=!1}return e&&ns in r?$o(e):R(n.source)}function os(){let e={};function t(){Ee(()=>{for(var r in e)e[r].unsubscribe();K(e,ns,{enumerable:!1,value:!0})})}return[e,t]}function is(e){var t=Do;try{return Do=!1,[e(),Do]}finally{Do=t}}function ec(e){return e.ctx?.d??!1}function kn(e,t,r,n){var o=(r&1)!==0,i=!at||(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,l=!1,f;s?[f,l]=is(()=>e[t]):f=e[t];var p=ve in e||en in e,u=s&&(xe(e,t)?.set??(p&&t in e&&(_=>e[t]=_)))||void 0,c=n,d=!0,h=!1,v=()=>(h=!0,d&&(d=!1,a?c=j(n):c=n),c);f===void 0&&n!==void 0&&(u&&i&&nl(t),f=v(),u&&u(f));var g;if(i)g=()=>{var _=e[t];return _===void 0?v():(d=!0,h=!1,_)};else{var b=(o?At:Rt)(()=>e[t]);b.f|=131072,g=()=>{var _=R(b);return _!==void 0&&(c=void 0),_===void 0?c:_}}if((r&4)===0&&i)return g;if(u){var M=e.$$legacy;return function(_,y){return arguments.length>0?((!i||!y||M||l)&&u(y?g():_),_):g()}}var L=!1,E=!1,N=ke(f),I=At(()=>{var _=g(),y=R(N);return L?(L=!1,E=!0,y):(E=!1,N.v=_)});return s&&R(I),o||(I.equals=yr),function(_,y){if(Eo!==null&&(L=E,g(),R(N)),arguments.length>0){let D=y?R(I):i&&s?bt(_):_;if(!I.equals(D)){if(L=!0,U(N,D),h&&c!==void 0&&(c=D),ec(I))return _;j(()=>R(I))}return _}return ec(I)?I.v:R(I)}}function tc(e){return new ss(e)}var Et,je,ss=class{constructor(t){$n(this,Et);$n(this,je);var r=new Map,n=(i,s)=>{var a=ke(s,!1,!1);return r.set(i,a),a};let o=new Proxy({...t.props||{},$$events:{}},{get(i,s){return R(r.get(s)??n(s,Reflect.get(i,s)))},has(i,s){return s===en?!0:(R(r.get(s)??n(s,Reflect.get(i,s))),Reflect.has(i,s))},set(i,s,a){return U(r.get(s)??n(s,a),a),Reflect.set(i,s,a)}});Dn(this,je,(t.hydrate?Gi:Sr)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!t?.props?.$$host||t.sync===!1)&&An(),Dn(this,Et,o.$$events);for(let i of Object.keys(he(this,je)))i==="$set"||i==="$destroy"||i==="$on"||K(this,i,{get(){return he(this,je)[i]},set(s){he(this,je)[i]=s},enumerable:!0});he(this,je).$set=i=>{Object.assign(o,i)},he(this,je).$destroy=()=>{xn(he(this,je))}}$set(t){he(this,je).$set(t)}$on(t,r){he(this,Et)[t]=he(this,Et)[t]||[];let n=(...o)=>r.call(this,...o);return he(this,Et)[t].push(n),()=>{he(this,Et)[t]=he(this,Et)[t].filter(o=>o!==n)}}$destroy(){he(this,je).$destroy()}};Et=new WeakMap,je=new WeakMap;var Kp;typeof HTMLElement=="function"&&(Kp=class extends HTMLElement{constructor(t,r,n){super();Le(this,"$$ctor");Le(this,"$$s");Le(this,"$$c");Le(this,"$$cn",!1);Le(this,"$$d",{});Le(this,"$$r",!1);Le(this,"$$p_d",{});Le(this,"$$l",{});Le(this,"$$l_u",new Map);Le(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),Ft(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=Jp(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=as(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=tc({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=Ao(()=>{ne(()=>{this.$$r=!0;for(let o of mi(this.$$c)){if(!this.$$p_d[o]?.reflect)continue;this.$$d[o]=this.$$c[o];let i=as(o,this.$$d[o],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,i)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=as(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return mi(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function as(e,t,r,n){let o=r[e]?.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Jp(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(w){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;ol(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function ls(e){Y===null&&nn("onMount"),at&&Y.l!==null?td(Y).m.push(e):Tr(()=>{let t=j(e);if(typeof t=="function")return t})}function nc(e){Y===null&&nn("onDestroy"),ls(()=>()=>j(e))}function td(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var So=nr(new ot([],!1)),Ro=nr(new Date),Lo=nr([]),Mo=nr([]);var oc="5";var ic;typeof window<"u"&&((ic=window.__svelte??(window.__svelte={})).v??(ic.v=new Set)).add(oc);ll();var rd=$r('<div><div class="event_item_contents svelte-1w1uwcg"><div></div> <div class="ei_Item svelte-1w1uwcg"><span class="ei_Title svelte-1w1uwcg"> </span> <span class="ei_Copy svelte-1w1uwcg"> </span></div></div></div>'),nd=$r('<div><div class="aside__line filled__line svelte-1w1uwcg"><div class="filled__line__completed svelte-1w1uwcg"></div></div></div> <div class="events svelte-1w1uwcg"></div> <div id="now-line" class="svelte-1w1uwcg"><span class="timeline-time svelte-1w1uwcg"> </span></div> <div id="scroll-controls" class="svelte-1w1uwcg"><label for="auto-scroll" class="svelte-1w1uwcg">Track time</label> <input id="auto-scroll" type="checkbox" class="toggle svelte-1w1uwcg"/></div>',1),od=$r('<div class="empty-timeline svelte-1w1uwcg">No Planner Data</div>'),id=$r('<div id="day-planner-timeline-container" class="svelte-1w1uwcg"><!></div>'),sd={hash:"svelte-1w1uwcg",code:`#day-planner-timeline-container.svelte-1w1uwcg {position:relative;}.aside.svelte-1w1uwcg {position:absolute;top:-1px;left:0;width:65px;height:100%;background-repeat:repeat-y;opacity:80%;}.aside-x5.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAEsCAYAAADHIkNEAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAABLAAAAAAuMW7GAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAsElEQVR4Ae3ZMQoAIAgFUL3/ocsO0GBLFE9wESJ8jj8jYlQrAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBbwWyNutGQuuNIkCAAAECBAgQIECAAAECBAgQIECAAAECBAgQeEbgJBLaLScq2smYEyBAgAABAgQIECBAgAABAgQIECBAgAABAgSuCpxEQqKfqyfzOQECBAgQIECAAAECBAgQIECAAAECBAgQIECgKzABwWUEBHBCyqYAAAAASUVORK5CYII=);}.aside-x4.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAADwCAYAAAAEqZSkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAA8AAAAABUK6+SAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA2klEQVR4Ae3bMQqEMBBA0QT2Bh7G+5d2e5G9wRZruliM6CCBsE8QQghxeOUHaynlvb/zPHUf9TXPuCYlQIAAAQIECBAgQIAAAQIECBAg8N8CLegtNwk+V863i7crB7sza7cev8y0ze/4MX2RAAECBAgQIECAAAECBAgQIECAAIEmkGmbkdyheWbaZnTxmOaZaZvRxJpnJGOfAAECBAgQIECAAAECBAgQIECAwEMCmbZ5aJjRHJm2OaZhnk189590DTPStE+AAAECBAgQIECAAAECBAgQIEBgVoEfgLcJ4JWKwMAAAAAASUVORK5CYII=);}.aside-x3.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAC0CAYAAACQYNzeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAtAAAAAD5WFEbAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA6UlEQVRoBe3XQQrCQAwF0Bb0Hr2heB4v14MIOtmli8GmlFHhBQbimA7h7f48TdOjnf+pua16/Z91bUqAAAECBAgQIECAAAECHwQi58Wp1KsyfPpsbLsUX133zF/a0G3PYJq5p358GxSxdaWelWGzBAgQIECAAAECBAgQIDBUIHJenDNqTHiPbZcz1m1vrPmdIyE9f5/7MeE9KKohPW+Ze+E9a+gJECBAgAABAgQIECDwHYHIeXEqNSaM9zaKbZfen537tXO/uT4S0seE8c2a6UdQVEO6MJ4AtQQIECBAgAABAgQIECDwqwJv9lMMWDcoNMAAAAAASUVORK5CYII=);}.aside-x2.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAB4CAYAAAD2SgIRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAeAAAAADVvVTBAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAAt0lEQVRoBe3YMQqAMAyF4VYUD+Ii7p7JK7t4EkVsnOoSEtql+AuC2GdIPxxCYwhhS3c7V0ytju20S6cIIIAAAggg8EcBGVh658YvZ75uXDqenSV3S14YFkswy5gKZ3keEUAAAQQQQACBnwnI7NZV2vNdqY5eRjqe9Ih59ciTMm2u+YuC50/hgjr6p0Ix6BHz6mlOEkQAAQQQQAABBBwCMrBwtvmCcbbp+G+IIoAAAggggAACCDgFHqn/Cpqy3VM1AAAAAElFTkSuQmCC);}.aside-x1.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAA8CAYAAABig0prAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAPAAAAAB4zqpIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAArElEQVRYCe2VSwqAMAxEW3WjK3eCHsT7H0bBQ/jp7LqokIQirUyhUMIkJA8y9c65Ndx6jg+tdvW0y05J4CcEsHmtcpZTqc8rR8eLsuQm0cOAeomwGA1Q4GrOrRFTSwIkkCCArWsScUvosiSpc9DxrM5KJ+xxGLY5xIHi3xbbfBuKdvpGhnESqJ8AvGJSjnFI9LDNUSKMNKLCkT7v0/LnffO35Z2T1UiABAol8ACZ6QleECm8BQAAAABJRU5ErkJggg==);}.aside__line.svelte-1w1uwcg {position:absolute;left:65px;transform:translateX(-50%);width:4px;height:100%;background:var(--aside-line);}.filled.svelte-1w1uwcg {transform-origin:top center;z-index:1;
        animation: scaleDown 1s ease-in-out;animation-fill-mode:forwards;}.filled__line__completed.svelte-1w1uwcg {position:absolute;top:0;left:0;width:100%;}.events.svelte-1w1uwcg {position:relative;padding-bottom:50px;}.event_item.svelte-1w1uwcg {background-color:var(--event-color);border-bottom:2px solid var(--background-primary);margin:0;cursor:pointer;padding:5px 10px 10px 0;width:100%;overflow:hidden;}.event_item.short.svelte-1w1uwcg {padding:0;}.event_item.svelte-1w1uwcg:hover {background-color:var(--event-hover);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);}.event_item_contents.svelte-1w1uwcg {padding-left:58px;}.ei_Copy.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg {color:var(--text-on-accent);}.ei_Dot.svelte-1w1uwcg {display:inline-block;position:absolute;border-radius:50%;width:14px;height:14px;margin-top:5px;background-color:var(--aside-dot);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);z-index:2;}.dot_active.svelte-1w1uwcg {background-color:var(--active-dot);}.ei_Item.svelte-1w1uwcg {padding-left:40px;text-indent:-20px;}.ei_Title.svelte-1w1uwcg {padding-right:10px;}.ei_Copy.svelte-1w1uwcg {font-size:15px;}.header_title.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg,
    .ce_title.svelte-1w1uwcg {color:#fff;}#now-line.svelte-1w1uwcg {height:4px;background-color:darkred;opacity:80%;position:absolute;z-index:3;width:100%;}#now-line.svelte-1w1uwcg .timeline-time:where(.svelte-1w1uwcg) {position:relative;left:5px;top:0;background-color:darkred;color:#fff;padding:0 4px 2px 4px;border-radius:0 0 4px 4px;text-align:center;}#scroll-controls.svelte-1w1uwcg {background-color:var(--background-secondary);position:sticky;bottom:0;width:100%;z-index:4;padding:8px 15px;text-align:center;height:45px;}#scroll-controls.svelte-1w1uwcg label:where(.svelte-1w1uwcg) {display:block;float:left;margin:2px;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg) {-webkit-appearance:none;-moz-appearance:none;appearance:none;width:50px;height:20px;display:block;float:left;position:relative;margin-top:5px;border-radius:50px;overflow:hidden;outline:none;border:none;cursor:pointer;background-color:var(--background-secondary-alt);transition:background-color ease 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):before {content:"on    ";display:block;position:absolute;z-index:2;width:17px;height:17px;background:#fff;left:2px;top:1px;border-radius:50%;font:9px/18px Helvetica;text-transform:uppercase;font-weight:bold;text-indent:-24px;word-spacing:30px;color:#fff;text-shadow:-1px -1px rgba(0, 0, 0, 0.15);white-space:nowrap;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);transition:all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked {background-color:var(--interactive-accent);}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked:before {left:31px;}#scroll-controls.svelte-1w1uwcg input[type="checkbox"]:where(.svelte-1w1uwcg):checked:after {background-color:transparent;}.empty-timeline.svelte-1w1uwcg {text-align:center;vertical-align:middle;margin-top:50%;}`};function cs(e,t){an(t,!1),Qi(e,sd);let[r,n]=os(),o=()=>Mr(Ro,"$now",r),i=()=>Mr(So,"$planSummary",r),s=()=>Mr(Lo,"$timelineColors",r),a=()=>Mr(Mo,"$timelineHoverColors",r),l=window.moment,f=/\[([^\]]+)\]\(([^)]+)\)/g,p=/\[\[([^\]|]+)(\|([^\]]+))?\]\]/g,u=kn(t,"lineColor",8),c=kn(t,"zoomLevel",8),d=kn(t,"rootEl",8);V.getInstance().logDebug("TimelineView.onOpen",{zoomLevel:c(),rootEl:d()});let h=ke(0),v=ke(0),g=ke(!0);function b(k){return l.duration(l(k).format("HH:mm")).asMinutes()*c()}ls(()=>{E()}),nc(()=>{N()});function M(k){let B=[];return k.durationMins<75/c()&&B.push("short"),k.isPast&&B.push("past"),k.isBreak&&B.push("break"),B.join(" ")}function L(k){let B=k.text??"";return B=B.replace(f,(oe,Re,Ct)=>`${Re}`),B=B.replace(p,(oe,Re,Ct,nt)=>`${nt||Re}`),B}function E(){d().addEventListener("scroll",_)}function N(){d().removeEventListener("scroll",_)}function I(k){R(g)&&!i().current?.isEnd&&(N(),d().scrollTo({left:0,top:k,behavior:"smooth"}),setTimeout(E,1e3))}function _(){U(g,!1)}Di(()=>(o(),i(),R(h),Pr(c())),()=>{let k=o(),B=i(),oe=B.items.first();U(h,B.empty?0:b(k)-b(oe.time)),U(v,B.empty?0:oe.time.getMinutes()*c()*-1-1),I(R(h)-150)}),Si(),rs();var y=id(),D=De(y);{var P=k=>{var B=nd(),oe=Ii(B),Re=De(oe),Ct=De(Re);Te(Re),Te(oe);var nt=Mt(oe,2);qi(nt,5,()=>i().activeItems(),Zi,(pt,or,us)=>{var ir=rd(),ps=De(ir),ds=De(ps),ms=Mt(ds,2),Fo=De(ms),lc=De(Fo,!0);Te(Fo);var hs=Mt(Fo,2),cc=De(hs,!0);Te(hs),Te(ms),Te(ps),Te(ir),Ir((fc,uc)=>{Rr(ir,1,`event_item ${fc??""}`,"svelte-1w1uwcg"),Wt(ir,`height: ${R(or).durationMins*c()}px; --event-color: ${s()[us]??""}; --event-hover: ${a()[us]??""};`),Cn(ir,"data-title",R(or).rawTime),Rr(ds,1,`ei_Dot ${R(or)===i().current?"dot_active":""}`,"svelte-1w1uwcg"),yn(lc,R(or).rawTime),yn(cc,uc)},[()=>M(R(or)),()=>L(R(or))],Rt),Ft(pt,ir)}),Te(nt);var kt=Mt(nt,2),In=De(kt),fs=De(In,!0);Te(In),Te(kt);var Nn=Mt(kt,2),Pn=Mt(De(Nn),2);es(Pn),Te(Nn),Ir(pt=>{Rr(oe,1,`aside aside-x${c()??""} filled`,"svelte-1w1uwcg"),Wt(oe,`top: ${R(v)??""}px;`),Wt(Ct,`height: ${R(h)??""}px;`),Wt(kt,`top:${R(h)??""}px; display: ${i().current&&!i().current.isEnd?"block":"none"}`),yn(fs,pt)},[()=>l(o()).format("HH:mm")],Rt),ts(Pn,()=>R(g),pt=>U(g,pt)),Ft(k,B)},O=k=>{var B=od();Ft(k,B)};ji(D,k=>{i().items.length>0?k(P):k(O,!1)})}Te(y),Ir(()=>Wt(y,`--aside-line: color-mix(in srgb, ${u()??""} 40%, transparent); --aside-dot: color-mix(in srgb, ${u()??""} 60%, transparent); --active-dot: ${u()??""}`)),Ft(e,y),ln(),n()}var Tn=class extends sc.ItemView{constructor(t,r,n){super(t),this.settings=r}getViewType(){return lr}getDisplayText(){return"Day Planner Timeline"}getIcon(){return this.settings.timelineIcon}update(t){if(!this.colors||t.items.length!==this.colors.length){let r=this.settings.timelineColorBegin||q.timelineColorBegin,n=this.settings.timelineColorEnd||q.timelineColorEnd,o=this.settings.timelineHoverColorBegin||q.timelineHoverColorBegin,i=this.settings.timelineHoverColorEnd||q.timelineHoverColorEnd;this.colors=di.scale([r,n]).mode("lch").colors(t.items.length,"hex"),this.hoverColors=di.scale([o,i]).mode("lch").colors(t.items.length,"hex"),Lo.set(this.colors),Mo.set(this.hoverColors)}So.set(t),Ro.set(new Date)}async onOpen(){this.component=Sr(cs,{target:this.contentEl,props:{lineColor:this.settings.lineColor||q.lineColor,zoomLevel:this.settings.timelineZoomLevel||4,rootEl:this.contentEl}})}async onClose(){xn(this.component)}};var Bo=class extends Oo.Plugin{constructor(){super(...arguments);this.layoutReady=async()=>{this.file=new jr(this.vault,this.settings),this.setTicker();let r=this.syncPlugin?.instance!==void 0;this.device=r?this.syncPlugin.instance.deviceName.length>0?this.syncPlugin.instance.deviceName:this.syncPlugin.instance.getDefaultDeviceName():"Unknown",await this.writerInfo();let n=new zr;this.parser=new Ur(this.settings),this.plannerMD=new fr(this.app.workspace,this.settings,this.file,this.parser,n),this.statusBar=new Zr(this.settings,this.addStatusBarItem(),this.app.workspace,n,new fr(this.app.workspace,this.settings,this.file,this.parser,n),this.file),this.statusBar.initStatusBar(),window.dayPlanner={resolvePath:this.resolvePath.bind(this)}};this.codeMirror=r=>{this.file.hasTodayNote()&&this.plannerMD.checkIsDayPlannerEditing()}}get syncPlugin(){return this.app.internalPlugins.getPluginById("sync")}async onload(){V.getInstance().logInfo(`Loading Day Planner plugin v${this.manifest.version}`),this.vault=this.app.vault,this.settings=Object.assign(new Rn,await this.loadData()),V.getInstance().updateSettings(this.settings),this.notesForDatesQuery=new Tt,this.registerEvent(this.app.vault.on("modify",this.codeMirror,"")),this.addCommand({id:"app:add-to-note",name:"Add a Day Planner template for today to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!0)),hotkeys:[]}),this.addCommand({id:"app:link-to-note",name:"Link today's Day Planner to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!1)),hotkeys:[]}),this.addCommand({id:"app:unlink-from-note",name:"Unlink today's Day Planner from its note",callback:()=>this.modeGuard(async()=>await this.unlinkDayPlanner()),hotkeys:[]}),this.addCommand({id:"app:show-timeline",name:"Show the Day Planner Timeline",callback:()=>this.initLeaf(),hotkeys:[]}),this.addCommand({id:"app:show-today-note",name:"Show today's Day Planner",callback:()=>this.app.workspace.openLinkText(this.file.todayPlannerFilePath(),"",!0),hotkeys:[]}),this.addCommand({id:"app:set-as-writer",name:"Set current device as writer",callback:async()=>{this.settings.writer=this.device,this.save(),await this.writerInfo()},hotkeys:[]}),this.registerView(lr,r=>(this.timelineView=new Tn(r,this.settings,new ot([],this.isWriter())),this.timelineView)),this.addSettingTab(new On(this.app,this)),this.register(()=>{window.dayPlanner=void 0}),this.app.workspace.onLayoutReady(this.layoutReady)}async onunload(){this.interval&&(V.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval))}async handleConfigFileChange(){await super.handleConfigFileChange(),this.settings=Object.assign(this.settings,await this.loadData()),this.parser.updateSettings(this.settings),V.getInstance().updateSettings(this.settings),await this.writerInfo()}async writerInfo(){let r=this.file?await this.file.hasTodayNote():!1;V.getInstance().logInfo("update Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter(),r)}isWriter(){return this.device==="Unknown"||!this.settings.writer||this.settings.writer===this.device}setTicker(){this.interval&&(V.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval),this.interval=void 0),V.getInstance().logDebug("set Ticker with Device/Writer:",this.device,this.settings.writer,this.isWriter()),this.interval=window.setInterval(()=>this.tick(),2e3)}async tick(){try{if(await this.file.hasTodayNote()){let r=await this.plannerMD.processDayPlanner(this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}else if(this.settings.mode==="Daily"&&(0,ac.appHasDailyNotesPluginLoaded)()){let r=new ot([],this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}}catch(r){V.getInstance().logError("error refreshing plan (tick)",r)}}initLeaf(){this.app.workspace.getLeavesOfType(lr).length>0||this.app.workspace.getRightLeaf(!0).setViewState({type:lr})}modeGuard(r){if(this.settings.mode!=="Command"){new Notification("Day Planner plugin in File mode",{silent:!0,body:"Switch to Command mode in settings to use this command"});return}r()}async insertDayPlannerIntoCurrentNote(r){try{let o=this.app.workspace.getActiveViewOfType(Oo.MarkdownView).file.path,i=this.notesForDatesQuery.exists(this.settings.notesToDates),s=this.notesForDatesQuery.active(this.settings.notesToDates)?.notePath;if(this.settings.notesToDates=this.settings.notesToDates||[],i&&s!==o){new Notification("Day Planner exists",{silent:!0,body:`A Day Planner for today already exists in ${s}`});return}i?this.settings.notesToDates||(this.settings.notesToDates=[]):this.settings.notesToDates=[new cr(o,new Date().toDateString())],await this.save(),r&&this.plannerMD.insertPlanner()}catch(n){console.error(n)}}async unlinkDayPlanner(){try{let r=this.notesForDatesQuery.active(this.settings.notesToDates);if(!r){new Notification("No Day Planner found",{silent:!0,body:"No Day Planner found for today"});return}this.settings.notesToDates=this.settings.notesToDates||[],this.settings.notesToDates.remove(r),await this.save(),this.statusBar.hide(this.statusBar.statusBar),this.timelineView?.update(new ot([],this.isWriter())),new Notification("Day Planner reset",{silent:!0,body:`The Day Planner for today has been dissociated from ${r.notePath} and can be added to another note`})}catch(r){console.error(r)}}async save(){await this.saveData(this.settings)}resolvePath(r){let n=this.file.todayPlannerFilePath();return this.app.metadataCache.getFirstLinkpathDest(r,n).path}};
/*! Bundled license information:

chroma-js/src/utils/contrastAPCA.js:
  (**
   * @license
   *
   * The APCA contrast prediction algorithm is based of the formulas published
   * in the APCA-1.0.98G specification by Myndex. The specification is available at:
   * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
   *
   * Note that the APCA implementation is still beta, so please update to
   * future versions of chroma.js when they become available.
   *
   * You can read more about the APCA Readability Criterion at
   * https://readtech.org/ARC/
   *)
*/

/* nosourcemap */